

 INDSFN                                                                                  INDSFN  

 This SUBROUTINE is number 1 in file wdatru. 

 Identify the data sets that have the specified attributes.            

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMFL    I*4            I    Fortran unit number of the wdm file                       
    2    DSTYPE   I*4            I    type of data set to be found                              
    3    TSTYPE   C*1 (4)        I    attribute containing a 4-character desciption             
    4    STAID    C*1 (16)       I    station id attribute, 16-character alpha-numeric          
    5    ISTAID   I*4            I    integer station id                                        
    6    TSSTEP   I*4            I    time step attribute, not used if DSTYPE is not 1          
    7    TCODE    I*4            I    time code attribute, used if DSTYPE = 1                   
    8    DSNMAX   I*4            I    maximum number of data sets to be found                   
    9    DSNFND   I*4 (V)        O    array of data set that were found                         
   10    DSNKNT   I*4            O    number of data sets found                                 
 
 CALLS:

  routine
  -------
  LENSTR      WDFNDS      ZIPI    

 CALLED BY:

  unknown


 PRADIT                                                                                  PRADIT  

 This SUBROUTINE is number 5 in file wdimpt. 

 put text from any id of attribute information on WDM file             

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    SUCIFL   I*4            I    Fortran unit number for sequential message file           
    2    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    3    DSN      I*4            I    dataset number on WDM file                                
    4    ATIND    I*4            I    attribute number to put on WDM file                       
    5    ID       I*4            I    id for portion of attribute being stored                  
    6    ILEN     I*4            I    length of buffer being stored                             
    7    IBUF1    C*1 (V)        M    ** Need Argument Definition ***                           
    8    NXTFG    I*4            M    flag for calling program indicating a read is needed      
 
 CALLS:

  routine
  -------
  LENSTR      STRFND      WADADI  

 CALLED BY:

  group     routine
  --------  -------
  wdimpt    PRATIM  


 PRATIM                                                                                  PRATIM  

 This SUBROUTINE is number 4 in file wdimpt. 

 import attribute data information for an attribute group              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    DSN      I*4            I    dataset number on WDM file                                
    3    SUCIFL   I*4            I    Fortrn unit number for sequential message file            
    4    ATNAM    C*6            I    attribute name                                            
    5    ATIND    I*4            I    attribute index                                           
    6    OBUFF    C*40           M    output buffer, returns last line read to calling routine  
    7    CONT     I*4            M    flag indicating to continue reading sequential file       
                                      (0 - end of dataset, 1 - more info to read)               
    8    RETCOD   I*4            M    return code -  0 - no problem,                            
                                                  -151 - errors found and reported on unit 99   
 
 CALLS:

  routine
  -------
  CHRDEC      CHRINT      ICHAR       INDEX       LENSTR      MOD         PRADIT      STRFND  
  WADADI      WATTCL      WATWDC      ZIPI        ZLJUST  

 CALLED BY:

  group     routine
  --------  -------
  wdimpt    PRWMAI  


 PRMSAE                                                                                  PRMSAE  

 This SUBROUTINE is number 5 in file wdexpt. 

 export attribute type question                                        

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    SUCIFL   I*4            I    Fortran unit number for export file                       
    3    ATTYP    I*4            I    attribute type                                            
    4    DREC     I*4            M    record on WDM file                                        
    5    DPOS     I*4            M    position on record                                        
 
 CALLS:

  routine
  -------
  PRMSTA      WATWDS      WDNXDV      WDPRPS      WMSGTO  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMAE  


 PRWMAE                                                                                  PRWMAE  

 This SUBROUTINE is number 4 in file wdexpt. 

 export attribute data                                                 

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    SUCIFL   I*4            I    Fortran unit number for output file                       
    3    DSN      I*4            I    dataset number on WDM file being exported                 
 
 CALLS:

  routine
  -------
  CHRCHR      LENSTR      PRMSAE      WADGTL      WADQCK      WATTUS      WATWDS      WDSCHK  
  ZIPI    

 CALLED BY:

  unknown


 PRWMAI                                                                                  PRWMAI  

 This SUBROUTINE is number 3 in file wdimpt. 

 import attribute type question from sequential message file           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    SUCIFL   I*4            I    Fortran unit number for sequential message file           
    3    DSN      I*4            I    dataset number on WDM file                                
    4    RETCOD   I*4            O    return code -  0 - no problem,                            
                                                  -151 - errors found and reported on unit 99   
 
 CALLS:

  routine
  -------
  CHRINT      LENSTR      PRATIM      STRFND      WADNSA      ZLJUST  

 CALLED BY:

  unknown


 PRWMDE                                                                                  PRWMDE  

 This SUBROUTINE is number 3 in file wdexpt. 

 export DLG type datasets                                              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    SUCIFL   I*4            I    Fortran unit number for sequential export file            
    3    DSN      I*4            I    dataset number on WDM file                                
 
 CALLS:

  routine
  -------
  WDLGET      WDLLSU  

 CALLED BY:

  unknown


 PRWMDI                                                                                  PRWMDI  

 This SUBROUTINE is number 2 in file wdimpt. 

 import DLG type datasets                                              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    SUCIFL   I*4            I    Fortran unit number for sequential import file            
    3    DSN      I*4            I    dataset number on WDM file                                
    4    RETCOD   I*4            O    return code                                               
 
 CALLS:

  routine
  -------
  CARVAR      CHRDEC      CHRINT      STRFND      WDLPUT  

 CALLED BY:

  unknown


 PRWMTE                                                                                  PRWMTE  

 This SUBROUTINE is number 1 in file wdexpt. 

 Export timeseries data.                                               

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    SUCIFL   I*4            I    Fortran unit number of sequential file                    
    3    DSN      I*4            I    dataset containing timeseries data to export              
    4    LSDAT    I*4 (6)        I    export start date                                         
    5    LEDAT    I*4 (6)        I    export end date                                           

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  TIMADD      TIMCHK      TIMDFX      TIMDIF      WBCWSP      WDATCP      WDRCGO      WDSKBK  
  WTEGRP      WTFNDG      WTSKVX  

 CALLED BY:

  unknown


 PRWMTI                                                                                  PRWMTI  

 This SUBROUTINE is number 1 in file wdimpt. 

 import WDM timeseries data from sequential file to WDMSFL             

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    SUCIFL   I*4            I    Fortran unit number of sequential file                    
    3    DSN      I*4            I    data set number to write timser data on                   
    4    RETCOD   I*4            O    return code from data import operation                    
 
 CALLS:

  routine
  -------
  TIMADD      WDATCP      WDTPUT  

 CALLED BY:

  unknown


 PRWMXE                                                                                  PRWMXE  

 This SUBROUTINE is number 2 in file wdexpt. 

 Export table datasets.                                                

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number of ANNIE message file                 
    2    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    3    SUCIFL   I*4            I    Fortran unit number of sequential file                    
    4    DSN      I*4            I    dataset containing timeseries data to export              

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CTBLBC  TABNAM     A

  CTBLBD  PDATVL     A
  CTBLBD  TABCNT     A
  CTBLBD  TABDIM     A
  CTBLBD  TABID      A

 CALLS:

  routine
  -------
  CARVAR      CHRCHR      CHRINS      LENSTR      STRFND      WDNXDV      WDPRPS      WDTBCG  
  WDTBSP      WDTBSU      WMSBCS      WMSGTE      WMSIDP      WMSQCK      WTBCLN      WTBDCD  
  WTBDSP      WTBGET      WTBISP      WTBSPA      ZIPC    

 CALLED BY:

  unknown


 PRWMXI                                                                                  PRWMXI  

 This SUBROUTINE is number 6 in file wdimpt. 

 import WDM table data from sequential file to WDMSFL                  

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number of ANNIE message file                 
    2    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    3    SUCIFL   I*4            I    Fortran unit number of sequential file                    
    4    DSN      I*4            I    data set number to write timser data on                   
    5    RETCOD   I*4            O    return code from data import operation                    
 
 CALLS:

  routine
  -------
  STRFND      WDTBTM      WTBCLN      WTBCOD      WTBPUT      WTBSPA      ZIPC    

 CALLED BY:

  unknown


 TSBCLR                                                                                  TSBCLR  

 This SUBROUTINE is number 5 in file tsbufr. 

 Remove data from the time-series buffer which may have been           
 modified in the WDM file, but not in the buffer.                      

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    DSN      I*4            I    data-set number on WDM file                               

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CTSBUF  BDATID     M
  CTSBUF  BDSN       M
  CTSBUF  BFILUN     M
  CTSBUF  BNREC      M
  CTSBUF  BNVAL      M
  CTSBUF  BQUAL      M
  CTSBUF  BSDATE     A
  CTSBUF  BSREC      M
  CTSBUF  BTRANS     M
  CTSBUF  BTS        M
  CTSBUF  BTU        M
  CTSBUF  NUMID      M
  CTSBUF  TSBUF      I

 CALLS:

  routine
  -------
  COPYI       ZIPI    

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WDTPUT  
  wdtms2    WTDSCU  


 TSBGET                                                                                  TSBGET  

 This SUBROUTINE is number 3 in file tsbufr. 

 Retrieve the time-series data specified by the current                
 time-series specifications (in CTSBUF.INC).                           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    SDATE    I*4 (6)        I    starting date of data being retrieved                     
    2    NVAL     I*4            I    number of values to retrieve                              
    3    RVAL     R   (V)        O    buffer of time-series data retrieved                      
    4    RETCOD   I*4            O    return code                                               
                                        0 - everything O.K.                                     
                                       -8 - invalid date                                        
                                      -14 - date specified not within valid range for data set  
                                      -20 - problem with one or more of following:              
                                            GPFLG, DXX, NVAL, QUALVL, LTSTEP, LTUNIT            
                                      -21 - date from WDM doesn't match expected date           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CTSBUF  BDATID     M
  CTSBUF  BDSN       M
  CTSBUF  BFILUN     M
  CTSBUF  BNREC      M
  CTSBUF  BNVAL      M
  CTSBUF  BQUAL      M
  CTSBUF  BSDATE     A
  CTSBUF  BSREC      M
  CTSBUF  BTRANS     M
  CTSBUF  BTS        M
  CTSBUF  BTU        M
  CTSBUF  CDSN       A
  CTSBUF  CFILUN     A
  CTSBUF  CQUAL      A
  CTSBUF  CTRANS     A
  CTSBUF  CTS        A
  CTSBUF  CTU        A
  CTSBUF  FREREC     M
  CTSBUF  NUMID      M
  CTSBUF  TSBUF      A

 CALLS:

  routine
  -------
  ABS         CKDATE      COPYI       COPYR       MOD         TIMADD      TIMCVT      TIMDIF  
  TSBINI      WDBASE      WDTGET      ZIPR    

 CALLED BY:

  unknown


 TSBINI                                                                                  TSBINI  

 This SUBROUTINE is number 6 in file tsbufr. 

 Initialize time-series buffer common variables.                       

 ARGUMENTS:

  none


 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CTSBUF  BDATID     A
  CTSBUF  BDSN       A
  CTSBUF  BFILUN     A
  CTSBUF  BNREC      A
  CTSBUF  BNVAL      A
  CTSBUF  BQUAL      A
  CTSBUF  BSDATE     A
  CTSBUF  BSREC      A
  CTSBUF  BTRANS     A
  CTSBUF  BTS        A
  CTSBUF  BTU        A
  CTSBUF  FREREC     O
  CTSBUF  NUMID      O
  CTSBUF  TSBUF      A

 CALLS:

  routine
  -------
  ZIPI        ZIPR    

 CALLED BY:

  group     routine
  --------  -------
  tsbufr    TSBGET  
  wdtms1    WTPMCK  


 TSBTIM                                                                                  TSBTIM  

 This SUBROUTINE is number 1 in file tsbufr. 

 Set the current time units, time step, data transformation,           
 and data quality flag for the time-series data in use.                

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    TUNIT    I*4            I    time units of data,                                       
                                      1 - seconds          4 - days                             
                                      2 - minutes          5 - months                           
                                      3 - hours            6 - years                            
    2    TSTEP    I*4            I    time step of data                                         
    3    DTRANS   I*4            I    data transformation code,                                 
                                      0 - ave,same                                              
                                      1 - sum,div                                               
                                      2 - max                                                   
                                      3 - min                                                   
    4    QUALFG   I*4            I    allowed quality code                                      

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CTSBUF  CQUAL      O
  CTSBUF  CTRANS     O
  CTSBUF  CTS        O
  CTSBUF  CTU        O
  CTSBUF  TSBUF      I

 CALLS:

  routine
  -------

 CALLED BY:

  unknown


 TSBWDS                                                                                  TSBWDS  

 This SUBROUTINE is number 2 in file tsbufr. 

 Set the current WDM file unit number and data-set number              
 for the time-series data in use.                                      

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file containing data           
    2    DSN      I*4            I    data-set number on WDM file                               

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CTSBUF  CDSN       O
  CTSBUF  CFILUN     O
  CTSBUF  TSBUF      I

 CALLS:

  routine
  -------

 CALLED BY:

  unknown


 WADGDF                                                                                  WADGDF  

 This SUBROUTINE is number 4 in file wdatm2. 

 get the default value for an attribute off the message file           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number for message file                      
    2    DPTR     I*4            I    pointer to start of details for this attribute            
    3    ATTYP    I*4            I    attribute type                                            
    4    ATDEF    R              O    default value for attribute                               
 
 CALLS:

  routine
  -------
  WATWDS      WDNXDV      WDPRPS      WDPTSP      WMSSKB  

 CALLED BY:

  unknown


 WADGDS                                                                                  WADGDS  

 This SUBROUTINE is number 5 in file wdatm2. 

 get the description for an attribute off the message file             

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number for message file                      
    2    DPTR     I*4            I    pointer to start of details for this attribute            
    3    SADESC   C*1 (47)       O    description for attribute                                 
 
 CALLS:

  routine
  -------
  WATWDS      WDNXDV      WDPRPS      WDPTSP      WMSGTE      WMSSKB  

 CALLED BY:

  unknown


 WADGHL                                                                                  WADGHL  

 This SUBROUTINE is number 6 in file wdatm2. 

 get the length and starting record/pos of the help info               
 for an attribute off the message file                                 

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number for message file                      
    2    DPTR     I*4            I    pointer to start of details for this attribute            
    3    TLEN     I*4            O    length of help info (0 - no help)                         
    4    DREC     I*4            O    record on which help info starts                          
    5    DPOS     I*4            O    position on record where help starts                      
 
 CALLS:

  routine
  -------
  WATWDS      WDNXDV      WDPRPS      WDPTSP      WMSSKB  

 CALLED BY:

  unknown


 WADGRA                                                                                  WADGRA  

 This SUBROUTINE is number 2 in file wdatm2. 

 get the min and max values for an attribute off the message file      

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number for message file                      
    2    DPTR     I*4            I    pointer to start of details for this attribute            
    3    ATTYP    I*4            I    attribute type                                            
    4    ATMIN    R              O    minimum value for attribute                               
    5    ATMAX    R              O    maximum value for attribute                               
 
 CALLS:

  routine
  -------
  WATWDS      WDNXDV      WDPRPS      WDPTSP      WMSSKB  

 CALLED BY:

  group     routine
  --------  -------
  wdatrb    WDBSAI      WDBSAR  


 WADGTN                                                                                  WADGTN  

 This SUBROUTINE is number 1 in file wdatm2. 

 given attribute index, return attribute name                          

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I     Fortran unit number for WDM message file                 
    2    ATIND    I*4            I     attribute index                                          
    3    ATNAM    C*1 (6)        O     attribute name                                           
 
 CALLS:

  routine
  -------
  WDSAGY  

 CALLED BY:

  group     routine
  --------  -------
  wdatrb    WDSAFI  


 WADGVA                                                                                  WADGVA  

 This SUBROUTINE is number 3 in file wdatm2. 

 get the valid values for an attribute off the message file            

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number for message file                      
    2    DPTR     I*4            I    pointer to start of details for this attribute            
    3    MXLEN    I*4            I    maximum length of valid values                            
    4    CLEN     I*4            O    total length of valid values                              
    5    SATVAL   C*1 (V)        O    array of valid values for attribute                       
 
 CALLS:

  routine
  -------
  WATWDS      WDNXDV      WDPRPS      WDPTSP      WMSGTE      WMSSKB  

 CALLED BY:

  group     routine
  --------  -------
  wdatrb    WDBSAC  


 WDAINF                                                                                  WDAINF  

 This SUBROUTINE is number 9 in file wdtms2. 

 This routine gets general atribute information about a time-series    
 data set.                                                             

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    data set number                                           
    3    NUMI     I*4            I    number of integer attributes to retrieve                  
    4    NUMR     I*4            I    number of real attributes to retrieve                     
    5    INDXI    I*4 (V)        I    array of index numbers of the integer attributes          
    6    INDXR    I*4 (V)        I    array of index numbers of the real attributes             
    7    DATES    I*4 (6,2)      O    period of available record                                
                                      (_,1) - start of record                                   
                                      (_,2) - end of record                                     
    8    ATRIBI   I*4 (V)        O    array of retrieved integer attributes,                    
                                      -999 returned if not present in data set                  
    9    ATRIBR   R   (V)        O    array of retrieved real attributes                        
                                      -999. returned if not present in data set                 
   10    RETCOD   I*4            O    return code                                               
                                          0 - all information successfully retrieved            
                                         -6 - no data in the data set                           
                                        -81 - data set does not exist                           
                                        -82 - data set is not a time-series data set            
                                       -107 - one or more attributes not present in data set    
 
 CALLS:

  routine
  -------
  WDBSGI      WDBSGR      WTFNDT      ZIPI        ZIPR    

 CALLED BY:

  unknown


 WDATCP                                                                                  WDATCP  

 This SUBROUTINE is number 6 in file wdtms2. 

 copies an old array date into a new one                               

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    ODAT     I*4 (6)        I    from date array                                           
    2    NDAT     I*4 (6)        I    to date array                                             
 
 CALLS:

  none

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMTE  
  wdimpt    PRWMTI  
  wdsptm    WSTSCP  
  wdtms1    WDTGET      WTSKVX      WDTPFX      WTGTVL      WTPTVL  
  wdtms2    WTDSCU      WTFNDT  
  wdtms3    WDTGQR      WDTGTQ      WTGTQR      WTGTVQ  


 WDATIM                                                                                  WDATIM  

 This SUBROUTINE is number 8 in file wdtms2. 

 Gets the start and end dates of the data in a time series data set    
 and the time step of the data.                                        

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    data set number                                           
    3    STRT     I*4 (6)        O    start of record                                           
    4    STOP     I*4 (6)        O    end of record                                             
    5    TSTEP    I*4            O    time step of data, in TCODE units                         
    6    TCODE    I*4            O    time units of data                                        
                                      1 - second        4 - day                                 
                                      2 - minute        5 - month                               
                                      3 - hour          6 - year                                
    7    RETCOD   I*4            O    return code                                               
                                          0 - all information successfully retrieved            
                                         -6 - no data in the data set                           
                                        -81 - data set does not exist                           
                                        -82 - data set is not a time-series data set            
                                       -107 - one or more attributes not present in data set    
 
 CALLS:

  routine
  -------
  WDBSGI      WTFNDT      ZIPI    

 CALLED BY:

  unknown


 WDBASE                                                                                  WDBASE  

 This SUBROUTINE is number 4 in file tsbufr. 

 Get base date, start/end dates of group, time units,                  
 time step, and variable time flag for WDM data.                       

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    data set number on WDM file                               
    3    SDATE    I*4 (6)        I    starting date of data                                     
    4    TBSDAT   I*4 (6)        O    base starting date                                        
    5    TGROUP   I*4            O    data group pointer                                        
    6    GRSDAT   I*4 (6)        O    starting date of data group                               
    7    GREDAT   I*4 (6)        O    ending date of data group                                 
    8    MAXGRP   I*4            O    max number of data groups allowed for data set            
    9    RETCOD   I*4            O    return code,                                              
                                      -14 - requested start date preceeds base start date       
 
 CALLS:

  routine
  -------
  TIMCHK      WDBSGI      WDDSCK      WDGIVL      WTEGRP      WTSGRP  

 CALLED BY:

  group     routine
  --------  -------
  tsbufr    TSBGET  


 WDBCRL                                                                                  WDBCRL  

 This SUBROUTINE is number 1 in file wdbtch. 

 add a label to a wdmsfl                                               

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number to add                                    
    3    DSTYPE   I*4            I    type of data set, 1- timeseries, 2-table, ...             
    4    RETCOD   I*4            O    return code,                                              
                                        0 - label added                                         
                                      -71 - data set already exists                             
 
 CALLS:

  routine
  -------
  WDDSCK      WDLBAD  

 CALLED BY:

  unknown


 WDBSAC                                                                                  WDBSAC  

 This SUBROUTINE is number 2 in file wdatrb. 

 adds (or modifies) character search attribute on given dsn            

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number being modified                            
    3    MESSFL   I*4            I    message file unit number                                  
    4    SAIND    I*4            I    index number of attribute or                              
                                      highest attribure number if printing                      
    5    SALEN    I*4            I    length of attribute                                       
    6    SAVAL    C*1 (V)        I    value of attribute                                        
    7    RETCOD   I*4            O    return code indicating if add or mod was successful       
                                        0 - successful                                          
                                      -81 - data set does not exist                             
                                      101 - incorrect character value for attribute             
                                      103 - no room on label for attribute                      
                                      104 - data present, can't update attribute                
                                      105 - attribute not allowed for this type data set        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     M
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  CHKSTR      WADGVA      WDDPAR      WDDSCK      WDRCGO      WDRCUP      WDSAGY      WDSASP  

 CALLED BY:

  unknown


 WDBSAD                                                                                  WDBSAD  

 This SUBROUTINE is number 5 in file wdatrb. 

 deletes search attribute on given dsn                                 

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number being modified                            
    3    SAIND    I*4            I    index number of attribute                                 
    4    SAUPFG   I*4            I    update allowed if data present flag(0-yes)                
    5    SARQWD   I*4            I    search attribute required word                            
    6    SALEN    I*4            I    length of attribute                                       
    7    RETCOD   I*4            O    flag indicating if deletion successful                    
                                        0 - deletion successful                                 
                                      -81 - data set does not exist                             
                                      104 - data present, can't delete attribute                
                                      106 - attribute required for this type data set, can't de 
                                      107 - attribute not present on this data set              

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDDPAR      WDDSCK      WDRCGO      WDRCUP      WDSAFL  

 CALLED BY:

  unknown


 WDBSAI                                                                                  WDBSAI  

 This SUBROUTINE is number 3 in file wdatrb. 

 adds (or modifies) integer search attribute on given dsn              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number being modified                            
    3    MESSFL   I*4            I    message file unit number                                  
    4    SAIND    I*4            I    index number of attribute or                              
                                      highest attribure number if printing                      
    5    SALEN    I*4            I    length of attribute                                       
    6    SAVAL    I*4 (V)        I    value of attribute                                        
    7    RETCOD   I*4            O    return code indicating if add or mod was successful       
                                        0 - successful                                          
                                      -81 - data set does not exist                             
                                      103 - no room on label for attribute                      
                                      104 - data present, can't update attribute                
                                      105 - attribute not allowed for this type data set        
                                      108 - incorrect integer value for attribute               

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  CHKINT      WADGRA      WDDPAR      WDDSCK      WDRCGO      WDRCUP      WDSAGY      WDSASP  

 CALLED BY:

  unknown


 WDBSAR                                                                                  WDBSAR  

 This SUBROUTINE is number 4 in file wdatrb. 

 adds (or modifies) real search attribute on given dsn                 

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number being modified                            
    3    MESSFL   I*4            I    message file unit number                                  
    4    SAIND    I*4            I    index number of attribute or                              
                                      highest attribure number if printing                      
    5    SALEN    I*4            I    length of attribute                                       
    6    SAVAL    R   (V)        I    value of attribute                                        
    7    RETCOD   I*4            O    flag indicating if modification or addition was successfu 
                                        0 - successful                                          
                                      -81 - data set does not exist                             
                                      103 - no room on label for attribute                      
                                      104 - data present, can't update attribute                
                                      105 - attribute not allowed for this type data set        
                                      109 - incorrect real value for attribute                  

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  CHKREA      WADGRA      WDDPAR      WDDSCK      WDRCGO      WDRCUP      WDSAGY      WDSASP  

 CALLED BY:

  unknown


 WDBSGC                                                                                  WDBSGC  

 This SUBROUTINE is number 2 in file wdbtch. 

 gets values of character search attribute for a dsn                   

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number to add                                    
    3    SAIND    I*4            I    index number of attribute                                 
    4    SALEN    I*4            I    length of attribute                                       
    5    SAVAL    C*1 (V)        O    value of attribute                                        
    6    RETCOD   I*4            O    return code,                                              
                                         0 - attribute value returned                           
                                       -81 - data set does not exist                            
                                      -107 - attribute not present on this data set             

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDDSCK      WDRCGO      WDSAFL  

 CALLED BY:

  unknown


 WDBSGI                                                                                  WDBSGI  

 This SUBROUTINE is number 3 in file wdbtch. 

 gets the values of integer search attribute for a dsn                 

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number to add                                    
    3    SAIND    I*4            I    index number of attribute                                 
    4    SALEN    I*4            I    length of attribute                                       
    5    SAVAL    I*4 (V)        O    value of attribute                                        
    6    RETCOD   I*4            O    return code,                                              
                                         0 - attribute value returned                           
                                       -81 - data set does not exist                            
                                      -107 - attribute not present on this data set             

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDDSCK      WDRCGO      WDSAFL  

 CALLED BY:

  group     routine
  --------  -------
  tsbufr    WDBASE  
  wdtms2    WDAINF      WDATIM  


 WDBSGR                                                                                  WDBSGR  

 This SUBROUTINE is number 4 in file wdbtch. 

 Get the values of real search attribute for a data set.               

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number to add                                    
    3    SAIND    I*4            I    index number of attribute                                 
    4    SALEN    I*4            I    length of attribute                                       
    5    SAVAL    R   (V)        O    value of attribute                                        
    6    RETCOD   I*4            O    return code                                               
                                         0 - attribute value returned                           
                                       -81 - data set does not exist                            
                                      -107 - attribute not present on this data set             

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDDSCK      WDRCGO      WDSAFL  

 CALLED BY:

  group     routine
  --------  -------
  wdtms2    WDAINF  


 WDBSGX                                                                                  WDBSGX  

 This SUBROUTINE is number 9 in file wdatrb. 

 routine gets information about search attribute from                  
 message file, returns 0 if name is not an attribute                   

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    message file unit number                                  
    2    SANAM    C*1 (6)        M    name of search attribute                                  
    3    SAIND    I*4            O    search attribute index number                             
    4    SATYP    I*4            O    type of attribute                                         
    5    SALEN    I*4            O    length of attribute                                       
 
 CALLS:

  routine
  -------
  CHRCHR      WDSAFI      WDSAGY  

 CALLED BY:

  unknown


 WDDPAR                                                                                  WDDPAR  

 This SUBROUTINE is number 7 in file wdatrb. 

 determines if either data is present and attribute can't be updated   
 or attribute is not allowed for this dataset type                     

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    RREC     I*4            I    record containing data-set label                          
    2    SARQWD   I*4            I    search attribute required word                            
    3    SAUPFG   I*4            I    flag indicating if attribute may be updated if data prese 
                                      0 - yes, 1 - no                                           
    4    TIBUFF   I*4 (512)      I    array containing data-set label                           
    5    DELFG    I*4            I    delete attribute indicator                                
                                      0 - not trying to delete                                  
                                      1 - trying to delete                                      
    6    RETCOD   I*4            O    return code                                               
                                        0 - attribute can be added or updated                   
                                      104 - data present, can't update attribue                 
                                      105 - attribute not allowed for this type dataset         
                                      106 - attribute required for this type data set, can't de 
 
 CALLS:

  routine
  -------
  WATTUS      WDDTFG  

 CALLED BY:

  group     routine
  --------  -------
  wdatrb    WDBSAC      WDBSAD      WDBSAI      WDBSAR  


 WDDSCL                                                                                  WDDSCL  

 This SUBROUTINE is number 6 in file wdbtch. 

 copies an old data-set label into a new data-set label                

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    OWDMFL   I*4            I    old watershed data management file unit number            
    2    ODSN     I*4            I    old data-set number                                       
    3    NWDMFL   I*4            I    new watershed data management file unit number            
    4    NDSN     I*4            I    new data-set number                                       
    5    NTYPE    I*4            I    new data-set type, 0 - same as old,                       
                                        1 - timeseries, 2-table, etc.                           
    6    RETCOD   I*4            O    return code                                               
                                        0 - copy complete                                       
                                      -61 - old data set doesn't exist                          
                                      -62 - new data set already exists                         
                                      -63 - data-set type out of range                          

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  RECNO      A
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDDSCK      WDFCUP      WDFDUP      WDPTCL      WDRCGO      WDRCGX      WDRCUP  

 CALLED BY:

  unknown


 WDDSRN                                                                                  WDDSRN  

 This SUBROUTINE is number 5 in file wdbtch. 

 routine to renumber data sets with no user interaction                

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    ODSN     I*4            I    old data-set number                                       
    3    NDSN     I*4            I    new data-set number                                       
    4    RETCOD   I*4            O    return code                                               
                                        0 - renumber successfully completed                     
                                      -72 - old data set does not exist                         
                                      -73 - new data set already exists                         

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CDRLOC  PTSNUM     I

  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDDSCK      WDFDUP      WDRCGO      WDRCUP  

 CALLED BY:

  unknown


 WDFNCK                                                                                  WDFNCK  

 This SUBROUTINE is number 11 in file wdatrb. 

 checks datasets for match of specified search attributes              
 This is a non-interactive version of PRWFCK.                          

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    DSNTMP   I*4            I    current dsn being checked                                 
    2    TIBUFF   I*4 (512)      I    integer version of current label                          
    3    TRBUFF   R   (512)      I    real version of current label                             
    4    SACNT    I*4            I    number of search attributes to be considered              
    5    SAIND    I*4 (V)        I    array of search attribute index numbers                   
    6    SATYP    I*4 (V)        I    array of search attribute type indicators                 
                                      1 - integer number                                        
                                      2 - real number                                           
                                      3 - alphanumeric character                                
    7    SABEG    I*4 (V)        I    array of beginning positions in value arrays              
    8    SAVAL    I*4 (30)       I    array of character values                                 
    9    SALEN    I*4 (V)        I    array of search attribute lengths                         
   10    SAIMIN   I*4 (V)        I    array of minimum acceptable values, integer attributes    
   11    SAIMAX   I*4 (V)        I    array of maximum acceptable values, integer attributes    
   12    SARMIN   R   (V)        I    array of minimum acceptable values, real attributes       
   13    SARMAX   R   (V)        I    array of maximum acceptable values, real attributes       
   14    SACOND   I*4 (V)        I    array of condition values,                                
                                      1 - true                                                  
                                      2 - false                                                 
   15    SAOR     I*4 (V)        I    array of or condition values                              
   16    MAXDSN   I*4            I    maximum number of dataset numbers                         
   17    NOSA     I*4            M    num dsn missing attributes                                
   18    NOMAT    I*4            M    num dsn not matching                                      
   19    NOCHK    I*4            M    num dsn checked                                           
   20    NOADD    I*4            M    num dsn added to buffer                                   
   21    DSN      I*4 (V)        M    array of dataset numbers                                  
   22    DSNCNT   I*4            M    count of dataset numbers in DSN                           
   23    DSBFUL   I*4            O    indicator flag for full DSN array                         
                                      0 - no                                                    
                                      1 - yes                                                   
 
 CALLS:

  routine
  -------
  WDSASV  

 CALLED BY:

  group     routine
  --------  -------
  wdatrb    WDFNDS  


 WDFNDS                                                                                  WDFNDS  

 This SUBROUTINE is number 10 in file wdatrb. 

 search WDM file for datasets matching search criteria                 
 This is a non-interactive version of PRWFDS.                          

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    TYPE     I*4            I    type of dataset searching for, 1- timeseries              
    3    SACNT    I*4            I    number of search attributes to be considered              
    4    SAIND    I*4 (V)        I    array of search attribute index numbers                   
    5    SATYP    I*4 (V)        I    array of search attribute type indicators                 
                                      1 - integer number                                        
                                      2 - real number                                           
                                      3 - alphanumeric character                                
    6    SABEG    I*4 (V)        I    array of beginning positions in value arrays              
    7    SAVAL    I*4 (30)       I    array of character values                                 
    8    SALEN    I*4 (V)        I    array of search attribute lengths                         
    9    SAIMIN   I*4 (V)        I    array of minimum acceptable values, integer attributes    
   10    SAIMAX   I*4 (V)        I    array of maximum acceptable values, integer attributes    
   11    SARMIN   R   (V)        I    array of minimum acceptable values, real attributes       
   12    SARMAX   R   (V)        I    array of maximum acceptable values, real attributes       
   13    SACOND   I*4 (V)        I    array of condition values,                                
                                      1 - true                                                  
                                      2 - false                                                 
   14    SAOR     I*4 (V)        I    array of or condition values                              
   15    MAXDSN   I*4            I    maximum number of dataset numbers allowed                 
   16    DSNMIN   I*4            I    minimum dataset number to consider                        
   17    DSNMAX   I*4            I    maxiumu dataset number to consider                        
   18    DSN      I*4 (V)        M    array of dataset numbers                                  
   19    DSNCNT   I*4            M    count of dataset numbers found                            
   20    DSBFUL   I*4            O    indicator flag for full DSN array                         
                                      0 - no                                                    
                                      1 - yes                                                   

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CDRLOC  PTSNUM     I

  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     A

 CALLS:

  routine
  -------
  WDDSCK      WDFNCK      WDRCGO  

 CALLED BY:

  group     routine
  --------  -------
  wdatru    INDSFN  


 WDLANG                                                                                  WDLANG  

 This SUBROUTINE is number 1 in file wddlg.  

 ** not normally called by application programmer, see WDLPUT **       
 add new DLG group to WDM file,                                        
 check existence of DSN and initialize related parms                   

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    DSN      I*4            I    data-set number on WDM file                               
    3    GRTYP    I*4            I    type of DLG group (1- LINE, 2- AREA, 3- NODE)             
    4    ATT1     I*4            I    user defined major attribute of group being added         
    5    ATT2     I*4            I    user defined minor attribute of group being added         
    6    LREC     I*4            O    record number of label on WDM file                        
    7    DREC     I*4            O    record number of new data group on WDM file               
    8    DPOS     I*4            O    position on DREC of start of new data group               
    9    GRCNT    I*4            O    number of groups on data set                              
   10    PDAT     I*4            O    pointer to group pointers                                 
   11    PDATVL   I*4            O    pointer to beginning for new data (DREC,DPOS)             
   12    RETCOD   I*4            O    return code                                               
                                        0 - DLG group added successfully                        
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -51 - no space for another DLG on this data set           

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  RECNO      I
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDLICV      WDPTCL      WDPTSP      WDRCGO      WDRCGX      WDRCUP      WDSASV      WDSCHK  

 CALLED BY:

  group     routine
  --------  -------
  wddlg     WDLPUT  


 WDLBAD                                                                                  WDLBAD  

 This SUBROUTINE is number 7 in file wdbtch. 

 ** not normally called by applications, use WDBCRL **                 
 add a new data set label, but no search attributes or data,           
 use default label sizing                                              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number                                           
    3    DSTYPE   I*4            I    type of data set                                          
    4    PSA      I*4            O    pointer to search attribute space                         
 
 CALLS:

  routine
  -------
  WDLBAX  

 CALLED BY:

  group     routine
  --------  -------
  wdbtch    WDBCRL  


 WDLGET                                                                                  WDLGET  

 This SUBROUTINE is number 3 in file wddlg.  

 retrieve DLG header or coordinate pairs from WDM file                 

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    DSN      I*4            I    data-set number on WDM file                               
    3    ITYPE    I*4            I    type of DLG info (1- LINE, 2- AREA, 3- NODE)              
    4    ATT1     I*4            I    major attribute value                                     
    5    ATT2     I*4            I    minor attribute value                                     
    6    LEN      I*4            I    maximum length of information being retrieved (4 byte wor 
    7    ID       I*4            M    id of information being retrieved (0-either,1-header, 2-d 
    8    OLEN     I*4            O    actual length of output buffer                            
    9    DLGBUF   R   (V)        O    buffer of information being retrieved                     
   10    RETCOD   I*4            O    return code                                               
                                        2 - no more data in this group                          
                                        1 - more of current id remaining                        
                                        0 - DLG data retrieved successfully                     
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -50 - major and minor attributes not found on this data s 

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDLBSP      WDLLCK      WDNXPS      WDPTSP      WDRCGO      WDSCHK  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMDE  


 WDLLCK                                                                                  WDLLCK  

 This SUBROUTINE is number 4 in file wddlg.  

 ** not normally called by application programmer, see WDLPUT/GET **   
 search for group with desired data type and attributes                

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    DSN      I*4            I    data set on WDM file                                      
    3    TYPE     I*4            I    type of DLG information (1- line,2- area,3- node)         
    4    ATT1     I*4            I    major attribute                                           
    5    ATT2     I*4            I    minor attribute                                           
    6    LGRP     I*4            O    group number of the desired type and attributes,          
                                      returns 0 if no group found                               

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDLISP      WDRCGO      WDSCHK  

 CALLED BY:

  group     routine
  --------  -------
  wddlg     WDLGET      WDLPUT  


 WDLLSU                                                                                  WDLLSU  

 This SUBROUTINE is number 5 in file wddlg.  

 summarize label information for DLG data set                          

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    DSN      I*4            I    data-set number on WDM file                               
    3    ILEN     I*4            I    maximum size of information buffers                       
    4    OLEN     I*4            O    actual amount of information returned (<= ILEN)           
    5    TYPE     I*4 (V)        O    buffer of information types on DSN                        
    6    ATT1     I*4 (V)        O    buffer of major attributes on DSN                         
    7    ATT2     I*4 (V)        O    buffer of minor attributes on DSN                         
    8    RETCOD   I*4            O    return code                                               
                                        1 - more groups on DSN                                  
                                        0 - label summary returned successfully                 
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDLISP      WDRCGO      WDSCHK  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMDE  


 WDLPUT                                                                                  WDLPUT  

 This SUBROUTINE is number 2 in file wddlg.  

 store DLG header or coordinate pairs on WDM file                      

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number for WDM file                          
    2    DSN      I*4            I    data-set number on WDM file                               
    3    ITYPE    I*4            I    type of DLG info (1- LINE, 2- AREA, 3- NODE)              
    4    ATT1     I*4            I    major attribute value                                     
    5    ATT2     I*4            I    minor attribute value                                     
    6    ID       I*4            I    id of information being stored (1-header, 2-data)         
    7    LEN      I*4            I    length of information being stored (4 byte words)         
    8    DLGBUF   R   (V)        I    buffer of information being stored                        
                                        header: 1- internal id                                  
                                                2- X coordinate of centroid                     
                                                3- Y coordinate of centroid                     
                                                4:LEN - text description of group               
                                        data    1,3,5,...,LEN-1 - X coordinates of data         
                                                2,4,6,...,LEN   - Y coordinates of data         
    9    RETCOD   I*4            O    return code                                               
                                        0 - DLG data added successfully                         
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -51 - no space for another DLG on this data set           

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDLANG      WDLBCV      WDLLCK      WDNXPS      WDPTCL      WDPTSP      WDRCDL      WDRCGO  
  WDRCUP      WDSASV      WDSCHK  

 CALLED BY:

  group     routine
  --------  -------
  wdimpt    PRWMDI  


 WDSAFI                                                                                  WDSAFI  

 This SUBROUTINE is number 8 in file wdatrb. 

 Given the attribute name SAFNAM, starting at attribute                
 index SAIND, find the first attribute name which matches              
 SAFNAM.  Return the index of the next attribute which                 
 also matches SAFNAM, if one exists.                                   

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number for message file                      
    2    SAFNAM   C*1 (6)        M    character array containing attribute name to search for   
    3    SAIND    I*4            M    index of next matching attribute, if one exists,          
                                      otherwise, index of matching attribute                    
    4    SANAM    C*1 (6)        O    character array of first attribute name matching SAFNAM   
    5    RETCOD   I*4            O    return code                                               
                                      -110 - attributes not found on message file               
                                      -111 - attribute name not found (no match)                
                                      -112 - more attributes exist which match SAFNAM           
 
 CALLS:

  routine
  -------
  CHRCHR      LENSTR      QUPCAS      WADDSI      WADGTN      ZIPC        ZIPI    

 CALLED BY:

  group     routine
  --------  -------
  wdatrb    WDBSGX  


 WDSAFL                                                                                  WDSAFL  

 This SUBROUTINE is number 6 in file wdatrb. 

 determines where values for particular search attribute               
 start within data-set label, returns 0 if attribute is                
 not present                                                           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    SAIND    I*4            I    index of particular search attribute                      
    2    TIBUFF   I*4 (512)      I    buffer of search attributes                               
    3    SAPOS    I*4            O    position of search attribute on label                     
    4    RETCOD   I*4            O    return code                                               
                                         0 - attribute found, position returned                 
                                      -107 - attribute not present on this data set             
 
 CALLS:

  routine
  -------
  WDSASV  

 CALLED BY:

  group     routine
  --------  -------
  wdatrb    WDBSAD  
  wdbtch    WDBSGC      WDBSGI      WDBSGR  


 WDSAGY                                                                                  WDSAGY  

 This SUBROUTINE is number 1 in file wdatrb. 

 gets general detail information about specified attribute             

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    message file unit number                                  
    2    SAIND    I*4            I    attribute index number                                    
    3    SANAM    C*1 (6)        O    name of search attribute                                  
    4    DPTR     I*4            O    pointer to other details of attribute                     
    5    SATYP    I*4            O    type of attribute                                         
    6    SALEN    I*4            O    length of attribute                                       
    7    SARQWD   I*4            O    word containing attribute requirements by dsn type        
    8    SAUPFG   I*4            O    attribute update flag                                     
 
 CALLS:

  routine
  -------
  WADDSI      WADGTL      ZIPC    

 CALLED BY:

  group     routine
  --------  -------
  wdatm2    WADGTN  
  wdatrb    WDBSAC      WDBSAI      WDBSAR      WDBSGX  


 WDSKBK                                                                                  WDSKBK  

 This SUBROUTINE is number 10 in file wdtms1. 

 skips to next WDMSFL block                                            

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    NUMSKP   I*4            I    number of elements to skip                                
    3    CURREC   I*4            M    current record number                                     
    4    CURPOS   I*4            M    current position within record                            

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDRCGO  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMTE  
  wdtms1    WTSKVX      WTGPCK      WTGTNV  
  wdtms2    WTFNDT  


 WDTBCG                                                                                  WDTBCG  

 This SUBROUTINE is number 13 in file wdtble. 

 get WDM table template cluster and group number from message file     

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    fortran unit number of ANNIE message file                 
    2    WDMSFL   I*4            I    fortran unit number of wdm data file                      
    3    SCLU     I*4            I    screen cluster of wdm table to check                      
    4    SGRP     I*4            I    group of wdm table to check                               
    5    TMESFL   I*4            O    unit number of message file with table template           
    6    TCLU     I*4            O    Message file cluster containing table template            
    7    TGRP     I*4            O    Group number containing table template                    
    8    RETCOD   I*4            O    return code, -22 if template not found                    
 
 CALLS:

  routine
  -------
  WDCKDT  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMXE  
  wdtble    WDTBTM  


 WDTBDL                                                                                  WDTBDL  

 This SUBROUTINE is number 11 in file wdtble. 

 delete WDM table from WDM file                                        

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Table data-set number                                     
    3    TABNAM   C*16           I    Table data-set name                                       
    4    TABIND   I*4            I    Table identifier                                          
    5    RETCOD   I*4            O    Return code                                               

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDPTCL      WDPTSP      WDRCDL      WDRCGO      WDRCUP      WDTBFN      WTBDSP  

 CALLED BY:

  unknown


 WDTBFN                                                                                  WDTBFN  

 This SUBROUTINE is number 3 in file wdtble. 

 determines pointer to the specified table,                            
 returns group number of next free space and RETCOD of 1               
 if not found in a valid table data set                                

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Watershed data management file unit number                
    2    DSN      I*4            I    table data-set number                                     
    3    TABIND   I*4            I    table identifier number                                   
    4    MTBNAM   C*16           I    name of table                                             
    5    TBCNT    I*4            O    total number of tables in data set                        
    6    LREC     I*4            O    label record number                                       
    7    TGRPPT   I*4            O    table group pointer                                       
    8    NROW     I*4            O    number of rows in table                                   
    9    RETCOD   I*4            O    return code                                               

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDRCGO      WDSCHK      WTBDSP  

 CALLED BY:

  group     routine
  --------  -------
  wdtble    WDTBFX      WDTBTM      WTBPUT      WDTBDL      WTBGET  


 WDTBFX                                                                                  WDTBFX  

 This SUBROUTINE is number 2 in file wdtble. 

 determines pointer to the specified table,                            
 also returns its message file cluster and group number                

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    table data-set number                                     
    3    TABIND   I*4            I    table identifier number                                   
    4    TABNAM   C*16           I    name of table                                             
    5    TBCNT    I*4            O    total number of tables in data set                        
    6    LREC     I*4            O    label record number                                       
    7    TGRPPT   I*4            O    table group pointer                                       
    8    MFID     C*1 (2)        O    message file name id                                      
    9    TCLU     I*4            O    table message file cluster number                         
   10    TGRP     I*4            O    table message file group number                           
   11    NROW     I*4            O    number of rows in table                                   
   12    RETCOD   I*4            O    return code                                               
                                        0 - table found, pointer and other information returned 

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDRCGO      WDTBFN      WTBISP  

 CALLED BY:

  unknown


 WDTBSP                                                                                  WDTBSP  

 This SUBROUTINE is number 4 in file wdtble. 

 get WDM table specifications from message file                        

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number of ANNIE message file                 
    2    TCLU     I*4            I    Message file cluster containing table template            
    3    TGRP     I*4            I    Group number containing table template                    
    4    MTBNAM   C*16           O    Table name                                                
    5    TFLDS    I*4            O    Number of fields in table                                 
    6    TTYP     C*1 (30)       O    Type(I,R,C,D,A) of each field                             
    7    TLEN     I*4 (30)       O    Length of each field                                      
    8    TCOL     I*4 (30)       O    Starting column for each field                            
    9    TSPA     I*4            O    Number of columns of table data(fields adjusted for size) 
   10    TNUM     I*4 (4)        O    Number of each variable type in table                     
   11    ACLU     I*4            O    Associated table cluster                                  
   12    AGRP     I*4            O    Associated group number                                   
   13    AFLDS    I*4            O    Number of associated table fields                         
   14    ATYP     C*1 (30)       O    Type(I,R,C,D,A) of each associated field                  
   15    ALEN     I*4 (30)       O    Length of each associated field                           
   16    ACOL     I*4 (30)       O    Starting column for each associated field                 
   17    ASPA     I*4            O    Space for table extension                                 
   18    ANUM     I*4 (4)        O    Number of each variable type in table extension           
   19    RETCOD   I*4            O    Return code                                               
                                        0 - information successfully obtained                   

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDNXDV      WDNXPS      WDRCGO      WMSBCS      WMSFBC      WMSGTE      WMSP2S      WMSPIS  
  WMSSKB      WTBSPA  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMXE  
  wdtble    WDTBTM  


 WDTBSU                                                                                  WDTBSU  

 This SUBROUTINE is number 6 in file wdtble. 

 get WDM table label info from WDM file table data set                 

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    WDM table data-set number                                 
    3    TABMAX   I*4            I    Maximum number of tables to get info about                
    4    TABBAS   I*4            I    Table base pointer, first group to get info about         
    5    TABCNT   I*4            O    Total number of tables found                              
    6    TABNAM   C*1 (16,V)     O    Name of table                                             
    7    TABID    I*4 (V)        O    Id of table                                               
    8    TABDIM   I*4 (V)        O    Dimensions of table                                       
    9    PDATVL   I*4 (V)        O    Pointer to table data values                              
   10    RETCOD   I*4            O    Return code, (+) if more tables than TABMAX               

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  COPYC       WDRCGO      WDSCHK  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMXE  


 WDTBTM                                                                                  WDTBTM  

 This SUBROUTINE is number 1 in file wdtble. 

 put WDM table template on WDM file, return parameters about table     

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    MESSFL   I*4            I    Fortran unit number of WDM file containing table definiti 
    2    MFID     C*1 (2)        I    Message file name id of MESSFL                            
    3    TCLU     I*4            I    Message file cluster containing table template            
    4    TGRP     I*4            I    Group number containing table template                    
    5    WDMSFL   I*4            I    Fortran unit number of WDM file to put table template in  
    6    DSN      I*4            I    Data-set number to put table template in                  
    7    TABIND   I*4            I    Table identifier number of new table                      
    8    NROW     I*4            I    Number of rows in new table                               
    9    TFLDS    I*4            O    Number of fields in table                                 
   10    TNUM     I*4 (4)        O    Number of each variable type in table(I-1,R-2,C-3,D-4)    
   11    TTYP     C*1 (30)       O    Type of each field in table(I,R,C,D)                      
   12    TLEN     I*4 (30)       O    Length of each field in table(characters)                 
   13    TCOL     I*4 (30)       O    Starting column for each field                            
   14    TSPA     I*4            O    Space required for each table row(words)                  
   15    MTBNAM   C*16           O    Name of table from message file                           
   16    TGRPPT   I*4            O    Pointer to group within DSN                               
   17    AFLDS    I*4            O    Number of fields in table extension                       
   18    ANUM     I*4 (4)        O    Number of each variable type in table extension(I-1,R-2,C 
   19    ATYP     C*1 (30)       O    Type of each field in table extension                     
   20    ALEN     I*4 (30)       O    Length of each field in table extension                   
   21    ACOL     I*4 (30)       O    Starting column for each associated field                 
   22    ASPA     I*4            O    Space required for table extension                        
   23    ACLU     I*4            O    Associated table cluster number                           
   24    AGRP     I*4            O    Associated table group number                             
   25    RETCOD   I*4            O    Return code                                               
                                      -22 - template does not exist                             
                                      -25 - template already exists                             
                                      -26 - can't add another table                             

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  RECNO      I
  CFBUFF  WIBUFF     M
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDPTCL      WDPTSP      WDRCGO      WDRCGX      WDRCUP      WDTBCG      WDTBFN      WDTBSP  
  WTBDCL      WTBICL  

 CALLED BY:

  group     routine
  --------  -------
  wdimpt    PRWMXI  


 WDTGET                                                                                  WDTGET  

 This SUBROUTINE is number 1 in file wdtms1. 

 gets timeseries information from the WDMSFL                           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number                                           
    3    DELT     I*4            I    time step for get                                         
    4    DATES    I*4 (6)        I    starting date                                             
    5    NVAL     I*4            I    number of values                                          
    6    DTRAN    I*4            I    transformation code                                       
                                      0 - ave,same                                              
                                      1 - sum,div                                               
                                      2 - max                                                   
                                      3 - min                                                   
    7    QUALFG   I*4            I    allowed quality code                                      
    8    TUNITS   I*4            I    time units for get                                        
    9    RVAL     R   (V)        O    array to place retrieved values in                        
   10    RETCOD   I*4            O    return code                                               
                                        0 - everything O.K.                                     
                                       -8 - invalid date                                        
                                      -14 - date specified not within valid range for data set  
                                      -20 - problem with one or more of following:              
                                            GPFLG, DXX, NVAL, QUALVL, LTSTEP, LTUNIT            
                                      -21 - date from WDM doesn't match expected date           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  FLOAT       MOD         WDATCP      WDRCGO      WTDSPX      WTFNDG      WTGTVL      WTPMCK  
  WTSCSC      ZIPR    

 CALLED BY:

  group     routine
  --------  -------
  tsbufr    TSBGET  
  wdsptm    WSTSCP  


 WDTGQR                                                                                  WDTGQR  

 This SUBROUTINE is number 3 in file wdtms3. 

 Gets timeseries information from the WDMSFL.  Returns the time-       
 series values for a range of quality codes.                           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number                                           
    3    DELT     I*4            I    time step for get                                         
    4    DATES    I*4 (6)        I    starting date                                             
    5    NVAL     I*4            I    number of values                                          
    6    DTRAN    I*4            I    transformation code                                       
                                      0 - ave,same                                              
                                      1 - sum,div                                               
                                      2 - max                                                   
                                      3 - min                                                   
    7    QUALFL   I*4            I    lower allowed quality code                                
    8    QUALFH   I*4            I    higher allowed quality code                               
    9    TUNITS   I*4            I    time units for get                                        
   10    RVAL     R   (V)        O    array to place retrieved values in                        
   11    RETCOD   I*4            O    return code                                               
                                        0 - everything O.K.                                     
                                       -8 - invalid date                                        
                                      -14 - date specified not within valid range for data set  
                                      -20 - problem with one or more of following:              
                                            GPFLG, DXX, NVAL, QUALVL, LTSTEP, LTUNIT            
                                      -21 - date from WDM doesn't match expected date           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  FLOAT       MOD         WDATCP      WDRCGO      WTDSPX      WTFNDG      WTGTQR      WTPMCK  
  WTSCSC      ZIPR    

 CALLED BY:

  unknown


 WDTGTQ                                                                                  WDTGTQ  

 This SUBROUTINE is number 1 in file wdtms3. 

 Gets timeseries information from the WDMSFL.  Returns the time-       
 series data values and the associated array of quality codes.         

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number                                           
    3    DELT     I*4            I    time step for get                                         
    4    DATES    I*4 (6)        I    starting date                                             
    5    NVAL     I*4            I    number of values                                          
    6    DTRAN    I*4            I    transformation code                                       
                                      0 - ave,same                                              
                                      1 - sum,div                                               
                                      2 - max                                                   
                                      3 - min                                                   
    7    QUALFG   I*4            I    allowed quality code                                      
    8    TUNITS   I*4            I    time units for get                                        
    9    RVAL     R   (V)        O    array to place retrieved values in                        
   10    QVAL     I*4 (V)        O    array to place retrieved quality codes in                 
   11    RETCOD   I*4            O    return code                                               
                                        0 - everything O.K.                                     
                                       -8 - invalid date                                        
                                      -14 - date specified not within valid range for data set  
                                      -20 - problem with one or more of following:              
                                            GPFLG, DXX, NVAL, QUALVL, LTSTEP, LTUNIT            
                                      -21 - date from WDM doesn't match expected date           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  FLOAT       MOD         WDATCP      WDRCGO      WTDSPX      WTFNDG      WTGTVQ      WTPMCK  
  WTSCSC      ZIPR    

 CALLED BY:

  unknown


 WDTPFX                                                                                  WDTPFX  

 This SUBROUTINE is number 13 in file wdtms1. 

 puts timeseries information into the WDMSFL.  This routine            
 was originally called WDTPUT.  There is a known problem with the      
 DTOVWR = 1 option.  The new WDTPUT traps that condition and has       
 a work-around for it.                                                 

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number                                           
    3    DELT     I*4            I    time step for put                                         
    4    DATES    I*4 (6)        I    starting date                                             
    5    NVAL     I*4            I    number of values                                          
    6    DTOVWR   I*4            I    data overwrite flag,                                      
                                      0 - dont overwrite                                        
                                      1 - overwrite O.K.                                        
    7    QUALFG   I*4            I    allowed quality code                                      
    8    TUNITS   I*4            I    time units for put                                        
    9    RVAL     R   (V)        I    array for writing out values                              
   10    RETCOD   I*4            O    return code                                               
                                        0 - everything is O.K.                                  
                                       -8 - invalid date                                        
                                       -9 - data not present in current group                   
                                      -10 - no data in this group                               
                                      -11 - no non missing data, data has not started yet       
                                      -14 - date specified not within valid range for data set  
                                      -15 - VBTIME=1 and DELT,TUNITS do not agree               
                                            with the data set                                   
                                      -20 - problem with one or more of following:              
                                            DTOVWR, NVAL, QUALFG, TUNITS, DELT                  
                                      -21 - date from WDM doesn't match expected date           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        
                                      -85 - trying to write to a read-only data set             

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

  CWTSDS  CURBKS     A
  CWTSDS  CURCMP     A
  CWTSDS  CURCNT     A
  CWTSDS  CURDAT     A
  CWTSDS  CURNOV     A
  CWTSDS  CURPOS     A
  CWTSDS  CURQUA     A
  CWTSDS  CURREC     A
  CWTSDS  CURTST     A
  CWTSDS  CURTUN     A
  CWTSDS  CURVAL     A
  CWTSDS  PREVAL     A

 CALLS:

  routine
  -------
  CMPTIM      TIMADD      TIMDIF      WDATCP      WDRCGO      WTDSPX      WTEGRP      WTFNDG  
  WTGPCK      WTPMCK      WTPTVL  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WDTPUT  


 WDTPUT                                                                                  WDTPUT  

 This SUBROUTINE is number 17 in file wdtms1. 

 Puts time series data into a WDM file.  This routine traps the        
 problem with overwritting existing data.                              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number                                           
    3    DELT     I*4            I    time step for put                                         
    4    DATES    I*4 (6)        I    starting date                                             
    5    NVAL     I*4            I    number of values                                          
    6    DTOVWR   I*4            I    data overwrite flag,                                      
                                      0 - dont overwrite                                        
                                      1 - overwrite O.K.                                        
    7    QUALFG   I*4            I    allowed quality code                                      
    8    TUNITS   I*4            I    time units for put                                        
    9    RVAL     R   (V)        I    array for writing out values                              
   10    RETCOD   I*4            O    return code                                               
                                        0 - everything is O.K.                                  
                                       -8 - invalid date                                        
                                       -9 - data not present in current group                   
                                      -10 - no data in this group                               
                                      -11 - no non missing data, data has not started yet       
                                      -14 - date specified not within valid range for data set  
                                      -15 - VBTIME=1 and DELT,TUNITS do not agree               
                                            with the data set                                   
                                      -20 - problem with one or more of following:              
                                            DTOVWR, NVAL, QUALFG, TUNITS, DELT                  
                                      -21 - date from WDM doesn't match expected date           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        
                                      -85 - trying to write to a read-only data set             
 
 CALLS:

  routine
  -------
  TSBCLR      WDTPFX      WTDDEL  

 CALLED BY:

  group     routine
  --------  -------
  wdimpt    PRWMTI  
  wdsptm    WSTSCP  


 WDVRSN                                                                                  WDVRSN  

 This SUBROUTINE is number 12 in file wdatrb. 

 Dummy routine to include unix what version information for the        
 wdm library.                                                          

 ARGUMENTS:

  none

 
 CALLS:

  none

 CALLED BY:

  unknown


 WSTAGP                                                                                  WSTAGP  

 This SUBROUTINE is number 3 in file wdsptm. 

 add a group to a space time data set, physically allocate space for it

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data-set number                                           
    3    NGPDAT   I*4 (6)        I    Starting date for group                                   
    4    NGPTUN   I*4            I    Time units for group                                      
    5    NGPTST   I*4            I    Time step for group                                       
    6    NGPNOV   I*4            I    Number of timesteps in group                              
    7    RETCOD   I*4            O    Return code                                               
                                        0 - group added                                         
                                      -42 - overlap an existing group                           
                                      -43 - can't add another space time group                  
                                      -46 - bad space time group specification parameter        
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  RECNO      I
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  MOD         TIMADD      TIMCHK      WDATCL      WDATSP      WDPTCL      WDPTSP      WDRCGO  
  WDRCGX      WDRCUP      WDSASV      WDSCHK      WSTGCL      WSTGSP  

 CALLED BY:

  unknown


 WSTDGP                                                                                  WSTDGP  

 This SUBROUTINE is number 4 in file wdsptm. 

 delete group from a space time data set, free up space it uses        

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data-set number                                           
    3    STDATE   I*4 (6)        I    Date in group to delete                                   
    4    RETCOD   I*4            O    Return code                                               
                                        0 - group deleted                                       
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -42 - overlap an existing group                           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDDSCK      WDRCDL      WDRCGO      WDRCUP      WDSASV      WSTFGP      WSTGSP  

 CALLED BY:

  unknown


 WSTDIM                                                                                  WSTDIM  

 This SUBROUTINE is number 5 in file wdsptm. 

 determine dimensions a space time data set                            

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    IBUFF    I*4 (512)      I    Label of space time data set                              
    2    DIMX     I*4            O    X dimension                                               
    3    DIMY     I*4            O    Y dimension                                               
    4    DIMZ     I*4            O    Z dimension                                               
    5    DIMDAT   I*4            O    Data size (int-1,real-1,dprec-2)                          
    6    DTYPE    I*4            O    Type of data(int-1,real-2,dprec-3)                        
 
 CALLS:

  routine
  -------
  WDSASV  

 CALLED BY:

  group     routine
  --------  -------
  wdsptm    WSTFGP  


 WSTFDT                                                                                  WSTFDT  

 This SUBROUTINE is number 2 in file wdsptm. 

 ** not normally used by application programmers **                    
 ** arguments subject to change                  **                    
 find start position of data from group pointer                        

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            ?    Fortran unit number of WDM file                           
    2    GREC     I*4            ?    Start of group record                                     
    3    GPOS     I*4            ?    Start of group position                                   
    4    GOFF     I*4            ?    Offset to block containing data desired                   
    5    EREC     I*4            O    Pointer to data record                                    
    6    EPOS     I*4            O    Pointer to data position                                  
    7    DREC     I*4            O    Start of data record                                      
    8    DPOS     I*4            O    Start of data position                                    

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDPTSP      WDRCGO  

 CALLED BY:

  group     routine
  --------  -------
  wdsptm    WSTFGP  


 WSTFGP                                                                                  WSTFGP  

 This SUBROUTINE is number 1 in file wdsptm. 

 ** not normally used by application programmers **                    
 ** arguments subject to change                  **                    
 find space time data within a data set, return pointers to it         

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data-set number                                           
    3    STDAT    I*4 (6)        I    Starting date for data                                    
    4    RWFLG    I*4            I    Read/write flag, 1-read, 2-write                          
    5    GREC     I*4            O    Starting record for group                                 
    6    GPOS     I*4            O    Starting position for group                               
    7    GRPIND   I*4            O    Group index number                                        
    8    DREC     I*4 (2)        O    Starting record for data(1-before,2-after)                
    9    DPOS     I*4 (2)        O    Starting offset for data(1-before,2-after)                
   10    FRAC     R   (2)        O    Fraction of each data value to use(1-before,2-after)      
   11    DIMX     I*4            O    Max dimension in X direction                              
   12    DIMY     I*4            O    Max dimension in Y direction                              
   13    DIMZ     I*4            O    Max dimension in Z direction                              
   14    DIMDAT   I*4            O    Size of data value(words)(integer or real-1, double-2)    
   15    DTYPE    I*4            O    Type of data,1-int,2-real,3-double                        
   16    RETCOD   I*4            O    Return code                                               
                                        0 - data found                                          
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -41 - no data to read                                     
                                      -42 - overlap an existing group                           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  RECNO      I
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  FLOAT       TIMADD      TIMCHK      TIMDIF      WDATSP      WDPTCL      WDPTSP      WDRCGO  
  WDRCGX      WDRCUP      WDSCHK      WSTDIM      WSTFDT      WSTGSP  

 CALLED BY:

  group     routine
  --------  -------
  wdsptm    WSTDGP      WSTWNT  


 WSTGSU                                                                                  WSTGSU  

 This SUBROUTINE is number 6 in file wdsptm. 

 summarize a group in a space time data set                            

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data set number                                           
    3    GRPIND   I*4            I    Index of group to summarize                               
    4    GSDAT    I*4 (6)        O    Start date of group                                       
    5    GEDAT    I*4 (6)        O    End date of group                                         
    6    GTUN     I*4            O    Group time units                                          
    7    GTST     I*4            O    Group time steps                                          
    8    GNOV     I*4            O    Number of values in group                                 
    9    GFRAC    R              O    Fraction of group containing data                         
   10    RETCOD   I*4            O    Return code                                               
                                        0 - group summarized                                    
                                      -49 - group doesn't exist                                 
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  FLOAT       TIMADD      WDATSP      WDPTSP      WDRCGO      WDSCHK      WSTGSP  

 CALLED BY:

  unknown


 WSTGTD                                                                                  WSTGTD  

 This SUBROUTINE is number 10 in file wdsptm. 

 get double precision space time data                                  

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data-set number                                           
    3    STDAT    I*4 (6)        I    Date of data to get                                       
    4    NDIM     I*4            I    Number of dimensions specified                            
    5    NUMN     I*4 (V)        I    Number of values to get in each dimension                 
    6    BASN     I*4 (V)        I    Base value in each dimension                              
    7    SKPN     I*4 (V)        I    Skip value in each dimension                              
    8    NVAL     I*4            I    Total number of values to get                             
    9    DBUFF    D   (V)        O    Buffer to put values in                                   
   10    RETCOD   I*4            O    Return code                                               
                                        0 - data retrieved                                      
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -41 - no data to read                                     
                                      -42 - overlap an existing group                           
                                      -44 - trying to get/put more data than in block           
                                      -45 - types don't match                                   
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WSTWNT  

 CALLED BY:

  unknown


 WSTGTI                                                                                  WSTGTI  

 This SUBROUTINE is number 8 in file wdsptm. 

 get integer space time data                                           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data-set number                                           
    3    STDAT    I*4 (6)        I    Date of data to get                                       
    4    NDIM     I*4            I    Number of dimensions specified                            
    5    NUMN     I*4 (V)        I    Number of values to get in each dimension                 
    6    BASN     I*4 (V)        I    Base value in each dimension                              
    7    SKPN     I*4 (V)        I    Skip value in each dimension                              
    8    NVAL     I*4            I    Total number of values to get                             
    9    IBUFF    I*4 (V)        O    Buffer to put values in                                   
   10    RETCOD   I*4            O    Return code                                               
                                        0 - data retrieved                                      
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -41 - no data to read                                     
                                      -42 - overlap an existing group                           
                                      -44 - trying to get/put more data than in block           
                                      -45 - types don't match                                   
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WSTWNT  

 CALLED BY:

  unknown


 WSTGTR                                                                                  WSTGTR  

 This SUBROUTINE is number 9 in file wdsptm. 

 get real space time data                                              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data-set number                                           
    3    STDAT    I*4 (6)        I    Date of data to get                                       
    4    NDIM     I*4            I    Number of dimensions specified                            
    5    NUMN     I*4 (V)        I    Number of values to get in each dimension                 
    6    BASN     I*4 (V)        I    Base value in each dimension                              
    7    SKPN     I*4 (V)        I    Skip value in each dimension                              
    8    NVAL     I*4            I    Total number of values to get                             
    9    RBUFF    R   (V)        O    Buffer to put values in                                   
   10    RETCOD   I*4            O    Return code                                               
                                        0 - data retrieved                                      
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -41 - no data to read                                     
                                      -42 - overlap an existing group                           
                                      -44 - trying to get/put more data than in block           
                                      -45 - types don't match                                   
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WSTWNT  

 CALLED BY:

  group     routine
  --------  -------
  wdsptm    WSTSCP  


 WSTPTD                                                                                  WSTPTD  

 This SUBROUTINE is number 13 in file wdsptm. 

 put double precision space time data                                  

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data-set number                                           
    3    STDAT    I*4 (6)        I    Date of data to get                                       
    4    NDIM     I*4            I    Number of dimensions specified                            
    5    NUMN     I*4 (V)        I    Number of values to get in each dimension                 
    6    BASN     I*4 (V)        I    Base value in each dimension                              
    7    SKPN     I*4 (V)        I    Skip value in each dimension                              
    8    NVAL     I*4            I    Total number of values to get                             
    9    DBUFF    D   (V)        I    Buffer to write values from                               
   10    RETCOD   I*4            O    Return code                                               
                                        0 - data written                                        
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -41 - no data to read                                     
                                      -42 - overlap an existing group                           
                                      -44 - trying to get/put more data than in block           
                                      -45 - types don't match                                   
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDRCUP      WSTWNT  

 CALLED BY:

  unknown


 WSTPTI                                                                                  WSTPTI  

 This SUBROUTINE is number 11 in file wdsptm. 

 put integer space time data                                           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data-set number                                           
    3    STDAT    I*4 (6)        I    Date of data to get                                       
    4    NDIM     I*4            I    Number of dimensions specified                            
    5    NUMN     I*4 (V)        I    Number of values to get in each dimension                 
    6    BASN     I*4 (V)        I    Base value in each dimension                              
    7    SKPN     I*4 (V)        I    Skip value in each dimension                              
    8    NVAL     I*4            I    Total number of values to get                             
    9    IBUFF    I*4 (V)        I    Buffer to write values from                               
   10    RETCOD   I*4            O    Return code                                               
                                        0 - data written                                        
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -41 - no data to read                                     
                                      -42 - overlap an existing group                           
                                      -44 - trying to get/put more data than in block           
                                      -45 - types don't match                                   
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDRCUP      WSTWNT  

 CALLED BY:

  unknown


 WSTPTR                                                                                  WSTPTR  

 This SUBROUTINE is number 12 in file wdsptm. 

 put real space time data                                              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Fortran unit number of WDM file                           
    2    DSN      I*4            I    Data-set number                                           
    3    STDAT    I*4 (6)        I    Date of data to get                                       
    4    NDIM     I*4            I    Number of dimensions specified                            
    5    NUMN     I*4 (V)        I    Number of values to get in each dimension                 
    6    BASN     I*4 (V)        I    Base value in each dimension                              
    7    SKPN     I*4 (V)        I    Skip value in each dimension                              
    8    NVAL     I*4            I    Total number of values to get                             
    9    RBUFF    R   (V)        I    Buffer to write values from                               
   10    RETCOD   I*4            O    Return code                                               
                                        0 - data written                                        
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -41 - no data to read                                     
                                      -42 - overlap an existing group                           
                                      -44 - trying to get/put more data than in block           
                                      -45 - types don't match                                   
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDRCUP      WSTWNT  

 CALLED BY:

  group     routine
  --------  -------
  wdsptm    WSTSCP  


 WSTSCP                                                                                  WSTSCP  

 This SUBROUTINE is number 14 in file wdsptm. 

 copy from WDM space time data set to timeseries data sets or          
      from WDM timseries data sets to space time data set              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    DIRFG    I*4            ?    Direction to copy flag - 1 st to ts, 2 ts to st           
    2    WDMSFL   I*4            ?    Fortran unit number of WDM file                           
    3    STDSN    I*4            ?    Space time data-set number                                
    4    NTMDSN   I*4            ?    Number of timeseries data-sets                            
    5    TMDSN    I*4 (V)        ?    Timeseries data-set numbers                               
    6    STDAT    I*4 (6)        I    Starting date of data to copy                             
    7    TUNIT    I*4            I    Time units to get                                         
    8    TSTEP    I*4            I    Time step to get                                          
    9    NOV      I*4            I    Number of values to get                                   
   10    QUALFG   I*4            I    Timeseries quality of data flag                           
   11    NDIM     I*4            I    Number of dimensions specified                            
   12    NUMN     I*4 (V)        I    Number of values to get in each dimension                 
   13    BASN     I*4 (V)        I    Base value in each dimension                              
   14    SKPN     I*4 (V)        I    Skip value in each dimension                              
   15    BUFMAX   I*4            I    Size of buffer for intermediate storage                   
   16    SBUFF    R   (V)        O    Buffer for intermediate storage                           
   17    RETCOD   I*4            O    Return code                                               
                                        0 - data copied                                         
                                       -8 - invalid date                                        
                                       -9 - data not present in current group                   
                                      -10 - no data in this group                               
                                      -11 - no non missing data, data has not started yet       
                                      -14 - date specified not within valid range for data set  
                                      -15 - VBTIME=1 and DELT,TUNITS do not agree               
                                            with the data set                                   
                                      -20 - problem with one or more of following:              
                                            GPFLG, DXX, NVAL, QUALVL, LTSTEP, LTUNIT            
                                      -21 - date from WDM doesn't match expected date           
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -41 - no data to read                                     
                                      -42 - overlap an existing group                           
                                      -44 - trying to get/put more data than in block           
                                      -45 - types don't match                                   
                                      -47 - bad direction flag                                  
                                      -48 - conflicting specification of space time dimensions  
                                            number of timeseries data sets                      
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        
 
 CALLS:

  routine
  -------
  MOD         TIMADD      WDATCP      WDTGET      WDTPUT      WSTGTR      WSTPTR      WTDDEL  

 CALLED BY:

  unknown


 WSTWNT                                                                                  WSTWNT  

 This SUBROUTINE is number 7 in file wdsptm. 

 determine next wdm space time data offset (from beginning of data)    

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            ?    Fortran unit number of WDM file                           
    2    DSN      I*4            ?    Data-set number                                           
    3    STDAT    I*4 (6)        ?    Date of data to get                                       
    4    RWFLG    I*4            ?    Read/write flag(1-read,2-write)                           
    5    DTYPE    I*4            ?    Data type to get/put                                      
    6    NDIM     I*4            I    Number of dimensions specified                            
    7    NUMN     I*4 (V)        I    Number of values to get in each dimension                 
    8    BASN     I*4 (V)        I    Base value in each dimension                              
    9    SKPN     I*4 (V)        I    Skip value in each dimension                              
   10    DPOS     I*4 (2)        M    Current data offset within record(1-before,2-after)       
   11    DIND     I*4 (2)        M    Current index of data record(1-before,2-after)            
   12    DBLK     I*4            M    Current offset within block                               
   13    FRAC     R   (2)        O    Fraction of each data value to use(1-before,2-after)      
   14    DONFG    I*4            O    Done getting data                                         
   15    RETCOD   I*4            O    Return code                                               
                                        0 - offset found                                        
                                      -36 - missing needed following data for a get             
                                      -37 - no data present                                     
                                      -38 - missing part of time required                       
                                      -39 - missing data group                                  
                                      -40 - no data available                                   
                                      -41 - no data to read                                     
                                      -42 - overlap an existing group                           
                                      -44 - trying to get/put more data than in block           
                                      -45 - types don't match                                   
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  MOD         WDRCGO      WDRCUP      WSTFGP  

 CALLED BY:

  group     routine
  --------  -------
  wdsptm    WSTGTI      WSTGTR      WSTGTD      WSTPTD      WSTPTI      WSTPTR  


 WTBCDC                                                                                  WTBCDC  

 This SUBROUTINE is number 4 in file wdtbl2. 

 Place column of character data into table buffer.                     

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    NROWS    I*4            I    number of rows to be added to table buffer                
    2    NINDEX   I*4            I    number of actual columns in table buffer                  
    3    INDEX    I*4            I    actual columns being added to table buffer                
    4    LEN      I*4            I    ** Need Argument Definition ***                           
    5    VAL      C*1 (V,V)      I    columns of character values to be added to table buffer   
    6    TBRBUF   R   (V,V)      O    table buffer                                              
 
 CALLS:

  none

 CALLED BY:

  unknown


 WTBCDD                                                                                  WTBCDD  

 This SUBROUTINE is number 3 in file wdtbl2. 

 Place column of double precision data into table buffer.              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    NROWS    I*4            I    number of rows to be added to table buffer                
    2    NINDEX   I*4            I    number of actual columns in table buffer                  
    3    INDEX    I*4            I    actual column being added to table buffer                 
    4    VAL      D   (V)        I    column of double precision values to be added to table bu 
    5    TBRBUF   R   (V,V)      O    table buffer                                              
 
 CALLS:

  none

 CALLED BY:

  unknown


 WTBCDI                                                                                  WTBCDI  

 This SUBROUTINE is number 1 in file wdtbl2. 

 Place column of integer data into table buffer.                       

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    NROWS    I*4            I    number of rows to be added to table buffer                
    2    NINDEX   I*4            I    number of actual columns in table buffer                  
    3    INDEX    I*4            I    actual column being added to table buffer                 
    4    VAL      I*4 (V)        I    column of integer values to be added to table buffer      
    5    TBRBUF   R   (V,V)      O    table buffer                                              
 
 CALLS:

  none

 CALLED BY:

  unknown


 WTBCDR                                                                                  WTBCDR  

 This SUBROUTINE is number 2 in file wdtbl2. 

 Place column of real data into table buffer.                          

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    NROWS    I*4            I    number of rows to be added to table buffer                
    2    NINDEX   I*4            I    number of actual columns in table buffer                  
    3    INDEX    I*4            I    actual column being added to table buffer                 
    4    VAL      R   (V)        I    column of real values to be added to table buffer         
    5    TBRBUF   R   (V,V)      O    table buffer                                              
 
 CALLS:

  none

 CALLED BY:

  unknown


 WTBCLN                                                                                  WTBCLN  

 This SUBROUTINE is number 12 in file wdtble. 

 Adjust starting columns for table template fields, if necessary.      
 If a table is more than 80 characters wide, the starting columns      
 are likely to be missing or dummy values.                             

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    NFLDS    I*4            I    number of fields in the table                             
    2    FLEN     I*4 (V)        I    array of field lengths                                    
    3    SCOL     I*4 (V)        M    array of starting columns                                 
 
 CALLS:

  none

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMXE  
  wdimpt    PRWMXI  


 WTBCOD                                                                                  WTBCOD  

 This SUBROUTINE is number 7 in file wdtble. 

 convert data from full screen buffer into WDM internal format         

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    XFLDS    I*4            I    Number of fields in table                                 
    2    NROW     I*4            I    Number of rows in table                                   
    3    XSPA     I*4            I    Number of columns of table data(fields adjusted for size) 
    4    XLEN     I*4 (V)        I    Length of each field                                      
    5    XTYP     C*1 (V)        I    Type(I,R,C,D,A) of each field                             
                                      Type(I,R,C,D,A) of each field                             
    6    XCOL     I*4 (V)        I    Starting column for each field                            
    7    TBCBUF   C*1 (80,V)     I    Buffer containing output from full screen routine         
    8    MXTBTL   I*4            I    Size of buffer to put data in WDM internal format         
    9    TBRBUF   R   (V)        O    Buffer to put data in WDM internal format                 
   10    RETCOD   I*4            O    Return code                                               
 
 CALLS:

  routine
  -------
  CHRDEC      CHRDPR      CHRINT  

 CALLED BY:

  group     routine
  --------  -------
  wdimpt    PRWMXI  


 WTBDCD                                                                                  WTBDCD  

 This SUBROUTINE is number 8 in file wdtble. 

 convert data from WDM internal format into full screen buffer         

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    XFLDS    I*4            I    Number of fields in table                                 
    2    NROW     I*4            I    Number of rows in table                                   
    3    XSPA     I*4            I    Number of columns of table data(fields adjusted for size) 
    4    XLEN     I*4 (V)        I    Length of each field                                      
    5    XTYP     C*1 (V)        I    ** Need Argument Definition ***                           
    6    XCOL     I*4 (V)        I    Starting column for each field                            
    7    TBRBUF   R   (V)        I    Buffer containing data in WDM internal format             
    8    MXTBTL   I*4            I    Size of buffer to containing data in WDM internal format  
    9    TBCBUF   C*1 (80,V)     O    Buffer to put data for full screen routine                
   10    RETCOD   I*4            O    Return code                                               
 
 CALLS:

  routine
  -------
  DECCHR      DPRCHR      INTCHR  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMXE  


 WTBGET                                                                                  WTBGET  

 This SUBROUTINE is number 10 in file wdtble. 

 get the main table data                                               

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Watershed data management file unit number                
    2    DSN      I*4            I    table data-set number                                     
    3    TABNAM   C*16           I    table name                                                
    4    TABIND   I*4            I    table indentifier number                                  
    5    DATFLG   I*4            I    data type                                                 
                                      1 - main table                                            
                                      2 - extension                                             
    6    FROW     I*4            I    first row of data to read from                            
    7    NROW     I*4            I    number of rows of data to read                            
    8    FSPA     I*4            I    first data space to read from                             
    9    NSPA     I*4            I    space for data in each row                                
   10    TBRBUF   R   (V,V)      O    buffer for data to get from WDM file                      
   11    RETCOD   I*4            O    return code                                               

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDPTSP      WDRCGO      WDTBFN      WTBDSP  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMXE  


 WTBPUT                                                                                  WTBPUT  

 This SUBROUTINE is number 9 in file wdtble. 

 put WDM table data into WDM file                                      

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    Watershed data management file unit number                
    2    DSN      I*4            I    table data-set number                                     
    3    TABNAM   C*16           I    table name                                                
    4    TABIND   I*4            I    table indentifier number                                  
    5    DATFLG   I*4            I    data type                                                 
                                      1 - main table                                            
                                      2 - extension                                             
    6    FROW     I*4            I    first row to start writing                                
    7    NROW     I*4            I    number of rows of data to write                           
    8    FSPA     I*4            I    first data space to start writing                         
    9    NSPA     I*4            I    space for data in each row                                
   10    TBRBUF   R   (V,V)      I    buffer for data to write onto WDM file                    
   11    RETCOD   I*4            O    return code                                               

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDPTSP      WDRCGO      WDRCUP      WDTBFN      WTBDSP  

 CALLED BY:

  group     routine
  --------  -------
  wdimpt    PRWMXI  


 WTBSPA                                                                                  WTBSPA  

 This SUBROUTINE is number 5 in file wdtble. 

 calculates space required for a row in a table data set and           
 count types of data                                                   

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    NFLDS    I*4            I    number of fields in table                                 
    2    FTYP     C*1 (V)        I    type of each field(I,R,D,A,C)                             
    3    FLEN     I*4 (V)        I    length of each field                                      
    4    RWSPA    I*4            O    space required for row (4 byte words)                     
    5    XNUM     I*4 (4)        O    count of each data type in table                          
 
 CALLS:

  routine
  -------
  MOD         ZIPI    

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMXE  
  wdimpt    PRWMXI  
  wdtble    WDTBSP  


 WTBYFX                                                                                  WTBYFX  

 This SUBROUTINE is number 6 in file wdtms1. 

 add base year attribute to a timeseries data set                      

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    timeseries data-set number                                
    3    TGROUP   I*4            I    data group pointer units                                  
    4    TBSYR    I*4            O    base year                                                 

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  TIMDIF      WDATSP      WDDSCK      WDPTSP      WDRCGO      WDRCUP      WDSASP  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WTDSPM  


 WTDATE                                                                                  WTDATE  

 This SUBROUTINE is number 7 in file wdtms2. 

 Find common or maximum period with data from a list of                
 time-series data sets on a WDM file.                                  

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMFL    I*4            I    WDM file unit number                                      
    2    DSNCNT   I*4            I    number of data sets                                       
    3    DSN      I*4 (V)        I    array of data-set numbers for timeseries                  
    4    CMMXFG   I*4            I    common(1) or maximum(2) period flag                       
    5    SDATE    I*4 (6)        O    starting date (yr...sec)                                  
    6    EDATE    I*4 (6)        O    ending date (yr...sec)                                    
    7    ERRCOD   I*4            O    error code 0 = ok, 1 = end before start, other - bad date 
                                      return code                                               
 
 CALLS:

  routine
  -------
  CKDATE      COPYI       DLIMIT      WTFNDT      ZIPI    

 CALLED BY:

  unknown


 WTDDEL                                                                                  WTDDEL  

 This SUBROUTINE is number 3 in file wdtms2. 

 delete all data following a specified date in the given               
 data set                                                              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number                                           
    3    DELDAT   I*4 (6)        I    delete from date array                                    
    4    ALLFLG   I*4            I    delete all flag, 0 - only delete group                    
                                                       1 - all data after date                  
    5    RETCOD   I*4            O    return code                                               
                                        0 - everything is O.K.                                  
                                       -6 - no data present                                     
                                      -10 - no data in this group                               
                                      -11 - no non missing data, data has not started yet       
                                      -14 - date specified not within valid range for data set  
                                      -21 - date from WDM doesn't match expected date           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        
                                      -85 - trying to write to a read-only data set             

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  TIMCHK      TIMDFX      WBCWCL      WDPTCL      WDPTSP      WDRCDL      WDRCGO      WDRCUP  
  WTEGRP      WTFNDG      WTFNDT      WTNWBK      WTSKVL  

 CALLED BY:

  group     routine
  --------  -------
  wdsptm    WSTSCP  
  wdtms1    WDTPUT  


 WTDSCU                                                                                  WTDSCU  

 This SUBROUTINE is number 2 in file wdtms2. 

 copy from a data set to another any timeseries data between           
 start and end dates                                                   

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    SWDSFL   I*4            I    source watershed data management file unit number         
    2    SDSN     I*4            I    source data-set number                                    
    3    TWDSFL   I*4            I    target watershed data management file unit number         
    4    TDSN     I*4            I    target data-set number                                    
    5    UPTFL    I*4            I    update file unit number                                   
    6    GSDAT    I*4 (6)        I    copy start date array                                     
    7    GEDAT    I*4 (6)        I    copy end date array                                       
    8    NRVAL    I*4            I    intermediate storage buffer size (recommended size 1000)  
    9    RVAL     R   (V)        O    intermediate storage buffer                               
   10    RETCOD   I*4            O    return code                                               
                                        0 - everything is O.K.                                  
                                       -9 - data not present in current group                   
                                      -10 - no data in this group                               
                                      -11 - no non missing data, data has not started yet       
                                      -14 - date specified not within valid range for data set  
                                      -21 - date from WDM doesn't match expected date           
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        
                                      -85 - trying to write to a read-only data set             

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  TIMADD      TIMCHK      TIMDFX      TIMDIF      TSBCLR      WDATCP      WDRCGO      WTDSPX  
  WTEGRP      WTFNDG      WTGPCK      WTGTNV      WTPTVL      WTSKVL  

 CALLED BY:

  unknown


 WTDSPM                                                                                  WTDSPM  

 This SUBROUTINE is number 5 in file wdtms1. 

 obtains values for a variety of TIMSER parms from labels              
 or defaults                                                           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    TIBUFF   I*4 (512)      I    data-set label - integer version                          
    3    TRBUFF   R   (512)      I    data-set label - decimal version                          
    4    TSFILL   R              O    missing data filler code                                  
    5    TGROUP   I*4            O    data group pointer units                                  
    6    TOLR     R              O    compression tolerance                                     
    7    TBSDAT   I*4 (6)        O    beginning date of data                                    
    8    TSPTAD   I*4            O    put data transform code                                   
 
 CALLS:

  routine
  -------
  WDSASV      WTBYFX  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WTFNDG  
  wdtms2    WTFNDT  


 WTDSPX                                                                                  WTDSPX  

 This SUBROUTINE is number 7 in file wdtms1. 

 obtains values for a variety of timeseries parms from labels          
 or defaults                                                           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    TIBUFF   I*4 (512)      I    data-set label - integer version                          
    2    COMPFG   I*4            O    compression flag                                          
    3    TSFORM   I*4            O    form of data                                              
    4    VBTIME   I*4            O    variable time step option                                 
    5    TSSTEP   I*4            O    timeseries timestep                                       
    6    TCODE    I*4            O    timeseries time code                                      
 
 CALLS:

  routine
  -------
  WDSASV  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WDTGET      WDTPFX  
  wdtms2    WTDSCU  
  wdtms3    WDTGQR      WDTGTQ  


 WTEGRP                                                                                  WTEGRP  

 This SUBROUTINE is number 4 in file wdtms2. 

 determines end of group which contains a given date,                  
 if at group boundary, returns date of end of group                    

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    DAT      I*4 (6)        I    current date array                                        
    2    TGROUP   I*4            I    group time unit                                           
    3    EGRDAT   I*4 (6)        O    end of group date array                                   
 
 CALLS:

  routine
  -------
  DAYMON      MOD         ZIPI    

 CALLED BY:

  group     routine
  --------  -------
  tsbufr    WDBASE  
  wdexpt    PRWMTE  
  wdtms1    WTSKVX      WDTPFX      WTGTVL  
  wdtms2    WTDDEL      WTDSCU      WTFNDT  
  wdtms3    WTGTQR      WTGTVQ  


 WTFNDG                                                                                  WTFNDG  

 This SUBROUTINE is number 4 in file wdtms1. 

 check the data set,                                                   
 computes ending date, start and end group pointers and                
 number of values to skip in first group                               

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    timeseries data-set number                                
    3    GPFLG    I*4            I    get/put flag                                              
                                      1 - get                                                   
                                      2 - put                                                   
    4    DATES    I*4 (6)        I    starting date                                             
    5    LTSTEP   I*4            I    time step                                                 
    6    LTUNIT   I*4            I    time units                                                
    7    I4NVAL   I*4            I    number of values                                          
    8    TDSFRC   I*4            O    first record in data set                                  
    9    TSFILL   R              O    missing data filler code                                  
   10    TGROUP   I*4            O    data group pointer units                                  
   11    TOLR     R              O    compression tolerance                                     
   12    TSPTAD   I*4            O    put data transform code                                   
   13    GPOSST   I*4            O    start data group pointer index                            
   14    GPOSEN   I*4            O    end data group pointer index                              
   15    GPSDAT   I*4 (6)        O    start date of first group                                 
   16    ENDDAT   I*4 (6)        O    end date for get or put                                   
   17    RETCOD   I*4            O    return code                                               
                                        0 - everything O.K.                                     
                                      -14 - date specified not within valid range for data set  
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -84 - data set number out of range                        
                                      -85 - trying to write to a read-only data set             

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     A

 CALLS:

  routine
  -------
  TIMADD      TIMCHK      TIMCNV      TIMDIF      WDRCGO      WDSCHA      WTDSPM      WTSGRP  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMTE  
  wdtms1    WDTGET      WDTPFX  
  wdtms2    WTDDEL      WTDSCU  
  wdtms3    WDTGQR      WDTGTQ  


 WTFNDT                                                                                  WTFNDT  

 This SUBROUTINE is number 1 in file wdtms2. 

 determine starting and ending dates of data in data set               

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    data-set number                                           
    3    GPFLG    I*4            I    get(1)/put(2) flag                                        
    4    TDSFRC   I*4            O    data-set first record number                              
    5    SDAT     I*4 (6)        O    starting date of data in dsn                              
    6    EDAT     I*4 (6)        O    ending date of data in dsn                                
    7    RETCOD   I*4            O    return code                                               
                                        0 - everything is O.K.                                  
                                       -6 - no data present                                     
                                      -81 - data set does not exist                             
                                      -82 - data set exists, but is wrong DSTYP                 
                                      -85 - trying to write to a read-only data set             

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     A

 CALLS:

  routine
  -------
  TIMADD      TIMCHK      TIMCNV      WBCWSP      WDATCP      WDPTSP      WDRCGO      WDSCHA  
  WDSKBK      WTDSPM      WTEGRP      ZIPI    

 CALLED BY:

  group     routine
  --------  -------
  wdtms2    WDAINF      WDATIM      WTDATE      WTDDEL  


 WTGPCK                                                                                  WTGPCK  

 This SUBROUTINE is number 14 in file wdtms1. 

 checks information related to a group, skip to starting               
 value, fill in current information                                    

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    GPIND    I*4            I    group index number                                        
    3    GPSDAT   I*4 (6)        I    starting date of group                                    
    4    DATNOW   I*4 (6)        I    current date                                              
    5    LTUNIT   I*4            I    time units                                                
    6    TDSFRC   I*4            I    first record in data set                                  
    7    TSFILL   R              I    missing data filler code                                  
    8    TGROUP   I*4            I    data group pointer units                                  
    9    VBTIME   I*4            I    variable timestep flag                                    
   10    CURREC   I*4            O    current record number                                     
   11    CURBKS   I*4            O    starting position of current block within current record  
   12    CURPOS   I*4            O    current position in current block                         
   13    CURNOV   I*4            O    current number of values in current block                 
   14    CURVAL   R              O    current value                                             
   15    PREVAL   R              O    previous value                                            
   16    CURTST   I*4            O    current time step                                         
   17    CURTUN   I*4            O    current time units                                        
   18    CURCMP   I*4            O    current compression code                                  
   19    CURQUA   I*4            O    current quality code                                      
   20    CURCNT   I*4            O    current position within block                             
   21    CURDAT   I*4 (6)        O    current date of start of current value                    
   22    RETCOD   I*4            O    return code                                               
                                          0 - everything O.K.                                   
                                         -9 - data not present in current group                 
                                        -10 - no data in this group                             
                                        -11 - no non missing data, data has not started yet     
                                        -21 - date from WDM doesn't match expected date         

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WBCWSP      WDPTSP      WDRCDL      WDRCGO      WDSKBK      WTSKVL  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WDTPFX  
  wdtms2    WTDSCU  


 WTGTNV                                                                                  WTGTNV  

 This SUBROUTINE is number 12 in file wdtms1. 

 routine to get the next value from a WDS timeseries DSN               

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    CURCNT   I*4            M    current position within block                             
    3    CURNOV   I*4            M    current number of values in current block                 
    4    CURCMP   I*4            M    current compression code                                  
    5    CURREC   I*4            M    current record number                                     
    6    CURBKS   I*4            M    starting position of current block within current record  
    7    CURTST   I*4            M    current time step                                         
    8    CURTUN   I*4            M    current time units                                        
    9    CURQUA   I*4            M    current quality code                                      
   10    CURPOS   I*4            M    current position in current block                         
   11    CURDAT   I*4 (6)        M    current date of start of current value                    
   12    CURVAL   R              O    current value                                             
   13    CURNXT   I*4 (6)        O    internal end date array                                   

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  ABS         TIMADD      WBCWSP      WDRCGO      WDSKBK  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WTGTVL  
  wdtms2    WTDSCU  
  wdtms3    WTGTQR      WTGTVQ  


 WTGTQR                                                                                  WTGTQR  

 This SUBROUTINE is number 4 in file wdtms3. 

 Fills in RVAL array with data values from WDMS DSN.                   

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    timeseries data set number                                
    3    GPOSEN   I*4            I    end data group pointer index                              
    4    NVAL     I*4            I    number of values                                          
    5    GTTUN    I*4            I    get time units                                            
    6    GTTST    I*4            I    get time step                                             
    7    GTTRN    I*4            I    get transformation code                                   
    8    QUALFL   I*4            I    get lower quality code                                    
    9    QUALFH   I*4            I    get higher quality code                                   
   10    ENDDAT   I*4 (6)        I    end of get date array                                     
   11    TDSFRC   I*4            I    first record in data set                                  
   12    TSFILL   R              I    missing data filler code                                  
   13    TGROUP   I*4            I    data group pointer units                                  
   14    GETQK    I*4            I    do a quick get                                            
   15    GETQRA   R              I    quick get time step ratio (user/dsn)                      
   16    VBTIME   I*4            I    variable timestep indicator                               
   17    RVAL     R   (V)        M    array of values retrieved from WDMS file                  
   18    GETDAT   I*4 (6)        M    current get date array                                    
   19    GPSDAT   I*4 (6)        M    start date of first group                                 
   20    GPIND    I*4            M    get group index number                                    
   21    RETCOD   I*4            O    return code                                               
                                          0 - everything O.K.                                   
                                        -21 - date from WDM doesn't match expected date         

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CWTSDS  CURBKS     A
  CWTSDS  CURCMP     A
  CWTSDS  CURCNT     M
  CWTSDS  CURDAT     A
  CWTSDS  CURNOV     A
  CWTSDS  CURPOS     A
  CWTSDS  CURQUA     A
  CWTSDS  CURREC     A
  CWTSDS  CURTST     A
  CWTSDS  CURTUN     A
  CWTSDS  CURVAL     A
  CWTSDS  PREVAL     A

 CALLS:

  routine
  -------
  ABS         FLOAT       TIMADD      TIMCHK      TIMDIF      WDATCP      WTEGRP      WTGTNV  
  WTSKVL  

 CALLED BY:

  group     routine
  --------  -------
  wdtms3    WDTGQR  


 WTGTVL                                                                                  WTGTVL  

 This SUBROUTINE is number 11 in file wdtms1. 

 fills in RVAL array with data values from WDMS DSN                    

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    timeseries data set number                                
    3    GPOSEN   I*4            I    end data group pointer index                              
    4    NVAL     I*4            I    number of values                                          
    5    GTTUN    I*4            I    get time units                                            
    6    GTTST    I*4            I    get time step                                             
    7    GTTRN    I*4            I    get transformation code                                   
    8    QUALFG   I*4            I    get quality code                                          
    9    ENDDAT   I*4 (6)        I    end of get date array                                     
   10    TDSFRC   I*4            I    first record in data set                                  
   11    TSFILL   R              I    missing data filler code                                  
   12    TGROUP   I*4            I    data group pointer units                                  
   13    GETQK    I*4            I    do a quick get                                            
   14    GETQRA   R              I    quick get time step ratio (user/dsn)                      
   15    VBTIME   I*4            I    variable timestep indicator                               
   16    RVAL     R   (V)        M    array of values retrieved from WDMS file                  
   17    GETDAT   I*4 (6)        M    current get date array                                    
   18    GPSDAT   I*4 (6)        M    start date of first group                                 
   19    GPIND    I*4            M    get group index number                                    
   20    RETCOD   I*4            O    return code                                               
                                          0 - everything O.K.                                   
                                        -21 - date from WDM doesn't match expected date         

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CWTSDS  CURBKS     A
  CWTSDS  CURCMP     A
  CWTSDS  CURCNT     M
  CWTSDS  CURDAT     A
  CWTSDS  CURNOV     A
  CWTSDS  CURPOS     A
  CWTSDS  CURQUA     A
  CWTSDS  CURREC     A
  CWTSDS  CURTST     A
  CWTSDS  CURTUN     A
  CWTSDS  CURVAL     A
  CWTSDS  PREVAL     A

 CALLS:

  routine
  -------
  ABS         FLOAT       TIMADD      TIMCHK      TIMDIF      WDATCP      WTEGRP      WTGTNV  
  WTSKVL  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WDTGET  


 WTGTVQ                                                                                  WTGTVQ  

 This SUBROUTINE is number 2 in file wdtms3. 

 fills in RVAL array with data values from WDMS DSN                    
         in parallel with QVAL which contains quality codes            

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    DSN      I*4            I    timeseries data set number                                
    3    GPOSEN   I*4            I    end data group pointer index                              
    4    NVAL     I*4            I    number of values                                          
    5    GTTUN    I*4            I    get time units                                            
    6    GTTST    I*4            I    get time step                                             
    7    GTTRN    I*4            I    get transformation code                                   
    8    QUALFG   I*4            I    get quality code                                          
    9    ENDDAT   I*4 (6)        I    end of get date array                                     
   10    TDSFRC   I*4            I    first record in data set                                  
   11    TSFILL   R              I    missing data filler code                                  
   12    TGROUP   I*4            I    data group pointer units                                  
   13    GETQK    I*4            I    do a quick get                                            
   14    GETQRA   R              I    quick get time step ratio (user/dsn)                      
   15    VBTIME   I*4            I    variable timestep indicator                               
   16    RVAL     R   (V)        M    array of values retrieved from WDMS file                  
   17    QVAL     I*4 (V)        M    array of quality codes retrieved from WDMS file           
   18    GETDAT   I*4 (6)        M    current get date array                                    
   19    GPSDAT   I*4 (6)        M    start date of first group                                 
   20    GPIND    I*4            M    get group index number                                    
   21    RETCOD   I*4            O    return code                                               
                                          0 - everything O.K.                                   
                                        -21 - date from WDM doesn't match expected date         

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CWTSDS  CURBKS     A
  CWTSDS  CURCMP     A
  CWTSDS  CURCNT     M
  CWTSDS  CURDAT     A
  CWTSDS  CURNOV     A
  CWTSDS  CURPOS     A
  CWTSDS  CURQUA     A
  CWTSDS  CURREC     A
  CWTSDS  CURTST     A
  CWTSDS  CURTUN     A
  CWTSDS  CURVAL     A
  CWTSDS  PREVAL     A

 CALLS:

  routine
  -------
  ABS         FLOAT       TIMADD      TIMCHK      TIMDIF      WDATCP      WTEGRP      WTGTNV  
  WTSKVL  

 CALLED BY:

  group     routine
  --------  -------
  wdtms3    WDTGTQ  


 WTNWBK                                                                                  WTNWBK  

 This SUBROUTINE is number 16 in file wdtms1. 

 starts a new WDMS timeseries block, on a new record if req.           

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    CURREC   I*4            M    current record number                                     
    3    CURPOS   I*4            M    current position in current block                         
    4    CURBKS   I*4            O    starting position of current block within current record  

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  RECNO      I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  WDRCGO      WDRCGX      WDRCUP  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WTSKVX      WTPTVL  
  wdtms2    WTDDEL  


 WTPMCK                                                                                  WTPMCK  

 This SUBROUTINE is number 3 in file wdtms1. 

 checks the parameters supplied to either WDTPUT or WDTGET             

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    GPFLG    I*4            I    get/put flag                                              
                                      1 - get                                                   
                                      2 - put                                                   
    2    DXX      I*4            I    transform or overwrite flag                               
    3    DATES    I*4 (6)        I    starting date                                             
    4    NVAL     I*4            I    number of values                                          
    5    QUALVL   I*4            I    quality of data code                                      
    6    LTSTEP   I*4            M    time step                                                 
    7    LTUNIT   I*4            M    time units                                                
    8    RETCOD   I*4            O    return code                                               
                                        0 - everything is O.K.                                  
                                       -8 - invalid date                                        
                                      -20 - problem with one or more of following:              
                                            GPFLG, DXX, NVAL, QUALVL, LTSTEP, LTUNIT            
 
 CALLS:

  routine
  -------
  MOD         TSBINI  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WDTGET      WDTPFX  
  wdtms3    WDTGQR      WDTGTQ  


 WTPTVL                                                                                  WTPTVL  

 This SUBROUTINE is number 15 in file wdtms1. 

 writes all or part of a WDMS group into a WDMS timeseries data set    

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    NVAL     I*4            I    number of values                                          
    3    LTUNIT   I*4            I    time units                                                
    4    LTSTEP   I*4            I    time step                                                 
    5    TDSFRC   I*4            I    first record in data set                                  
    6    TSFILL   R              I    missing data filler code                                  
    7    TOLR     R              I    compression tolerance                                     
    8    QUALFG   I*4            I    get quality code                                          
    9    RVAL     R   (V)        I    array of data values to put on WDMS file                  
   10    TVAL     I*4            I    number of values to write in this group                   
   11    TSPTAD   I*4            I    disaggregation code                                       
                                      0 - same                                                  
                                      1 - div                                                   
   12    GPEDAT   I*4 (6)        I    group ending date                                         
   13    COMPFG   I*4            I    compression flag                                          
                                      1 - alow compression                                      
                                      2 - no compression                                        
   14    CURREC   I*4            M    current record number                                     
   15    CURBKS   I*4            M    starting position of current block within current record  
   16    CURPOS   I*4            M    current position in current block                         
   17    CURNOV   I*4            M    current number of values in current block                 
   18    CURVAL   R              M    current value                                             
   19    PREVAL   R              M    previous value                                            
   20    CURTST   I*4            M    current time step                                         
   21    CURTUN   I*4            M    current time units                                        
   22    CURCMP   I*4            M    current compression code                                  
   23    CURQUA   I*4            M    current quality code                                      
   24    CURDAT   I*4 (6)        M    current date of start of current value                    
   25    DPOS     I*4            M    current position within RVAL                              
   26    REMTUN   I*4            M    remaining time unit across group border                   
   27    REMTST   I*4            M    remaining time step across group border                   
   28    REMVAL   R              M    remaining data value across group border                  

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  WIBUFF     I
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  ABS         TIMADD      TIMCHK      TIMDIF      WBCWCL      WDATCP      WDPTCL      WDRCGO  
  WDRCUP      WTNWBK  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WDTPFX  
  wdtms2    WTDSCU  


 WTSCSC                                                                                  WTSCSC  

 This SUBROUTINE is number 2 in file wdtms1. 

 converts the given time units and time step to seconds                

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    TUNITS   I*4            I    time units                                                
    2    TSSTEP   I*4            I    time step                                                 
    3    TSPSEC   I*4            I    time in seconds                                           
 
 CALLS:

  none

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WDTGET  
  wdtms3    WDTGQR      WDTGTQ  


 WTSGRP                                                                                  WTSGRP  

 This SUBROUTINE is number 5 in file wdtms2. 

 determines start of group which contains given date,                  
 if at group boundary, returns given date                              

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    DAT      I*4 (6)        I    current date array                                        
    2    TGROUP   I*4            I    group time unit                                           
    3    SGRDAT   I*4 (6)        O    start of group date array                                 
 
 CALLS:

  routine
  -------
  DAYMON      MOD         ZIPI    

 CALLED BY:

  group     routine
  --------  -------
  tsbufr    WDBASE  
  wdtms1    WTFNDG  


 WTSKVL                                                                                  WTSKVL  

 This SUBROUTINE is number 8 in file wdtms1. 

 skips values within a WDMSFL timeseries group, also                   
 outputs current block information in common CWTSDS, also              
 end of group date                                                     

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    GPIND    I*4            I    group index number                                        
    3    GPSDAT   I*4 (6)        I    starting date of group                                    
    4    STDAT    I*4 (6)        I    date to skip to                                           
    5    TDSFRC   I*4            I    first record in data set                                  
    6    TSFILL   R              I    missing data filler code                                  
    7    TGROUP   I*4            I    data group pointer units                                  
    8    BADJFG   I*4            I    block adjustment for efficiency flag                      
                                      0 - no                                                    
                                      1 - yes                                                   
    9    ADDAFG   I*4            I    data present flag                                         
   10    VBTIME   I*4            I    variable timestep indicator                               
   11    CURREC   I*4            O    current record number                                     
   12    CURBKS   I*4            O    starting position of current block within current record  
   13    CURPOS   I*4            O    current position in current block                         
   14    CURNOV   I*4            O    current number of values in current block                 
   15    CURVAL   R              O    current value                                             
   16    PREVAL   R              O    previous value                                            
   17    CURTST   I*4            O    current time step                                         
   18    CURTUN   I*4            O    current time units                                        
   19    CURCMP   I*4            O    current compression code                                  
   20    CURQUA   I*4            O    current quality code                                      
   21    CURCNT   I*4            O    current position within block                             
   22    CURDAT   I*4 (6)        O    current date of start of current value                    
   23    RETCOD   I*4            O    return code                                               
                                          0 - everything O.K.                                   
                                        -10 - no data in this group                             
                                        -11 - no non missing data, data has not started yet     
                                        -21 - date from WDM doesn't match expected date         
 
 CALLS:

  routine
  -------
  WTSKVX  

 CALLED BY:

  group     routine
  --------  -------
  wdtms1    WTGPCK      WTGTVL  
  wdtms2    WTDDEL      WTDSCU  
  wdtms3    WTGTQR      WTGTVQ  


 WTSKVX                                                                                  WTSKVX  

 This SUBROUTINE is number 9 in file wdtms1. 

 skips values within a WDMSFL TIMESERIES group, also                   
 returns current block information and end of group date               
 can fill an empty group with dummy data if ADDAFG=1                   

 ARGUMENTS:
                 declaration
  order   name   type  size   status  explanation
  -----  ------  -----------  ------  ---------------------------------------------------------
    1    WDMSFL   I*4            I    watershed data management file unit number                
    2    GPIND    I*4            I    group index number                                        
    3    GPSDAT   I*4 (6)        I    starting date of group                                    
    4    STDAT    I*4 (6)        I    data to skip to                                           
    5    TDSFRC   I*4            I    first record in data set                                  
    6    TSFILL   R              I    missing data filler code                                  
    7    TGROUP   I*4            I    data group pointer units                                  
    8    BADJFG   I*4            I    block adjustment for efficiency flag                      
                                      0 - no                                                    
                                      1 - yes                                                   
    9    ADDAFG   I*4            I    data present flag                                         
   10    VBTIME   I*4            I    variable timestep indicator                               
   11    CURREC   I*4            O    current record number                                     
   12    CURBKS   I*4            O    starting position of current block within current record  
   13    CURPOS   I*4            O    current position in current block                         
   14    CURNOV   I*4            O    current number of values in current block                 
   15    CURVAL   R              O    current value                                             
   16    PREVAL   R              O    previous value                                            
   17    CURTST   I*4            O    current time step                                         
   18    CURTUN   I*4            O    current time units                                        
   19    CURCMP   I*4            O    current compression code                                  
   20    CURQUA   I*4            O    current quality code                                      
   21    CURCNT   I*4            O    current position within block                             
   22    CURDAT   I*4 (6)        O    current date of start of current value                    
   23    RETCOD   I*4            O    return code                                               
                                          0 - everything O.K.                                   
                                        -10 - no data in this group                             
                                        -11 - no non missing data, data has not started yet     
                                        -21 - date from WDM doesn't match expected date         
   24    BLSDAT   I*4 (6)        O    block start date array                                    
   25    BLEDAT   I*4 (6)        O    block end date                                            

 COMMON USAGE:

  block    name   status
  ------  ------  ------
  CFBUFF  RECNO      I
  CFBUFF  WIBUFF     A
  CFBUFF  WRBUFF     I

 CALLS:

  routine
  -------
  TIMADD      TIMCHK      TIMDIF      WBCWCL      WBCWSP      WBCWSQ      WDATCL      WDATCP  
  WDATSP      WDPTCL      WDPTSP      WDRCGO      WDRCGX      WDRCUP      WDSASV      WDSKBK  
  WTEGRP      WTNWBK  

 CALLED BY:

  group     routine
  --------  -------
  wdexpt    PRWMTE  
  wdtms1    WTSKVL  
